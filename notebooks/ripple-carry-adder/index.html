<!DOCTYPE html>
<html>
    <head><meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>Imandra Documentation - Verifying a Ripple Carry Adder</title>
        <meta property="og:url" content="https://docs.imandra.ai/imandra-docs/notebooks/ripple-carry-adder/">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Imandra Documentation - Verifying a Ripple Carry Adder">
        <meta property="og:description" content="In this notebook, we'll verify a simple hardware design in Imandra, that of a full (arbitrary width) ripple-carry adder. We'll express this simple piece of hardware at the gate level. The theorem we'll prove expresses that our (arbitrary width) adder circuit is correct for all possible bit sequences.">
        <meta property="og:image" content="https://storage.googleapis.com/imandra-assets/images/og_image_default_i78.jpg">


        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116937440-6"></script>
        <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());

         gtag('config', 'UA-116937440-1');
        </script>
        <script type="text/javascript"> var sc_project=11767520; var sc_invisible=1; var sc_security="fa7e88d1"; </script>
        <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
        <noscript><div class="statcounter">
            <a title="Web Analytics" href="http://statcounter.com/" target="_blank">
                <img class="statcounter" src="//c.statcounter.com/11767520/0/fa7e88d1/1/" alt="Web Analytics"></a>
        </div></noscript>
        

        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,300i,400,400i%7CMerriweather:300,300i,400,400i%7CRoboto+Slab:300,300i,400,400i">

        <link rel="stylesheet" href="/imandra-docs/static/style/style.min.c7df16ea.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/nbextensions/nbimandra/styles.b466ce6f.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/docs-styles.b9de737f.css" type="text/css">
        
        <link rel="stylesheet" href="/imandra-docs/static/jekyll-styles.16c4c669.css" type="text/css">
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="/imandra-docs/static/nbimandra-rjs-bundle.b85e58fd.js"></script>

        <style type="text/css">
         .highlight .hll { background-color: #ffffcc }
         .highlight  { background: #f8f8f8; }
         .highlight .c { color: #408080; font-style: italic } /* Comment */
         .highlight .err { border: 1px solid #FF0000 } /* Error */
         .highlight .k { color: #008000; font-weight: bold } /* Keyword */
         .highlight .o { color: #666666 } /* Operator */
         .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
         .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
         .highlight .cp { color: #BC7A00 } /* Comment.Preproc */
         .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
         .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
         .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
         .highlight .gd { color: #A00000 } /* Generic.Deleted */
         .highlight .ge { font-style: italic } /* Generic.Emph */
         .highlight .gr { color: #FF0000 } /* Generic.Error */
         .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
         .highlight .gi { color: #00A000 } /* Generic.Inserted */
         .highlight .go { color: #888888 } /* Generic.Output */
         .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
         .highlight .gs { font-weight: bold } /* Generic.Strong */
         .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
         .highlight .gt { color: #0044DD } /* Generic.Traceback */
         .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
         .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
         .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
         .highlight .kp { color: #008000 } /* Keyword.Pseudo */
         .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
         .highlight .kt { color: #B00040 } /* Keyword.Type */
         .highlight .m { color: #666666 } /* Literal.Number */
         .highlight .s { color: #BA2121 } /* Literal.String */
         .highlight .na { color: #7D9029 } /* Name.Attribute */
         .highlight .nb { color: #008000 } /* Name.Builtin */
         .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
         .highlight .no { color: #880000 } /* Name.Constant */
         .highlight .nd { color: #AA22FF } /* Name.Decorator */
         .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
         .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
         .highlight .nf { color: #0000FF } /* Name.Function */
         .highlight .nl { color: #A0A000 } /* Name.Label */
         .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
         .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
         .highlight .nv { color: #19177C } /* Name.Variable */
         .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
         .highlight .w { color: #bbbbbb } /* Text.Whitespace */
         .highlight .mb { color: #666666 } /* Literal.Number.Bin */
         .highlight .mf { color: #666666 } /* Literal.Number.Float */
         .highlight .mh { color: #666666 } /* Literal.Number.Hex */
         .highlight .mi { color: #666666 } /* Literal.Number.Integer */
         .highlight .mo { color: #666666 } /* Literal.Number.Oct */
         .highlight .sa { color: #BA2121 } /* Literal.String.Affix */
         .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
         .highlight .sc { color: #BA2121 } /* Literal.String.Char */
         .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
         .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
         .highlight .s2 { color: #BA2121 } /* Literal.String.Double */
         .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
         .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
         .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
         .highlight .sx { color: #008000 } /* Literal.String.Other */
         .highlight .sr { color: #BB6688 } /* Literal.String.Regex */
         .highlight .s1 { color: #BA2121 } /* Literal.String.Single */
         .highlight .ss { color: #19177C } /* Literal.String.Symbol */
         .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
         .highlight .fm { color: #0000FF } /* Name.Function.Magic */
         .highlight .vc { color: #19177C } /* Name.Variable.Class */
         .highlight .vg { color: #19177C } /* Name.Variable.Global */
         .highlight .vi { color: #19177C } /* Name.Variable.Instance */
         .highlight .vm { color: #19177C } /* Name.Variable.Magic */
         .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
        </style>

        <!-- Loading mathjax macro -->
        <!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --><script>
  function handleCopyClick() {
      var el = this;
      var terminal = el.closest('.terminal');
      var highlight = terminal.getElementsByClassName('highlight')[0];
      copyToClipboardMsg(highlight);

      terminal.classList.add('terminal--hide');
      setTimeout(function () {
          terminal.classList.remove('terminal--hide');
      }, 2000);


      function copyToClipboardMsg(elem) {
          var succeed = copyToClipboard(elem);
          var msg;
          if (!succeed) {
              msg = 'Error!';
          } else {
              msg = 'Copied!';
          }

          var msgElem = terminal.querySelector('.terminal__copy-msg');
          msgElem.innerHTML = msg;
          setTimeout(function () {
              msgElem.innerHTML = 'You rock!';
          }, 1000);
      }

      function copyToClipboard(elem) {
          // create hidden text element, if it doesn't already exist
          var targetId = '_hiddenCopyText_';
          var isInput = elem.tagName === 'INPUT' || elem.tagName === 'TEXTAREA';
          var origSelectionStart, origSelectionEnd;
          if (isInput) {
              // can just use the original source element for the selection and copy
              target = elem;
              origSelectionStart = elem.selectionStart;
              origSelectionEnd = elem.selectionEnd;
          } else {
              // must use a temporary form element for the selection and copy
              target = terminal.querySelector('#' + targetId);
              if (!target) {
                  var target = document.createElement('textarea');
                  // target.style.display = 'flex';
                  // target.style.position = 'absolute';
                  // target.style.left = '-1000%';
                  target.id = targetId;
                 elem.appendChild(target);
              }
              target.textContent = elem.textContent.trim();
          }

          // select the content
          var currentFocus = document.activeElement;
          target.focus();
          target.setSelectionRange(0, target.value.length);

          // copy the selection
          var succeed;
          try {
              succeed = document.execCommand('copy');
          } catch (e) {
              succeed = false;
          }
          // restore original focus
          if (currentFocus && typeof currentFocus.focus === 'function') {
              currentFocus.focus();
          }

          if (isInput) {
              // restore prior selection
              elem.setSelectionRange(origSelectionStart, origSelectionEnd);
          } else {
              // clear temporary content
              elem.removeChild(target);
          }
          return succeed;
      }
  }
</script>
    </head>
    <body>
        <div class="background">
        </div>
        <div class="page-container">
            <main class="main-content-column">
                <!-- Jupyter (Imandra core docs) version -->
<header class="header">
    <div class="top-row-container">
        <div class="top-row">

            <div id="toggler--left" class="side__left-menu-toggler">
                <div class="side__toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <p class="side__toggle-text">Docs</p>
            </div>

            <div class="side__logo-container">
                <a class="side__logo-link" href="/">
                    <img class="side__logo " src = "/imandra-docs/jekyll-resources/assets/img/imandra-gradient-logo-docs.svg" alt="Imandra Logo" title="Imandra Logo">
                    <img class="side__logo--min " src="/imandra-docs/jekyll-resources/assets/img/imandra-gradient-logo-min.svg" alt="Imandra Logo" title="Imandra Logo">

                </a>
            </div>

            <div id="toggler--right" class="side__right-menu-toggler">
                <p class="side__toggle-text">Pages</p>
                <div class="side__toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>

            <nav id="side-nav-menu" class="side__nav-container side__nav-container--hidden">
                <ul class="side__nav-list">
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link" href="/">Documentation Home</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link side__nav-link--active" href="/imandra-docs">Imandra Core</a>
                        
                        <ul class="side__nav-list--sub-level-1">
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/welcome">A quick tour</a>
                                
                                
                                    <ul class="side__nav-list--sub-level-2 ">
                                        
                                    </ul>
                                
                                
                                
                                
                            </li>
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 ">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/installation">Installation</a>
                                
                                
                                    <ul class="side__nav-list--sub-level-2 ">
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/installation-simple">Installer</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/installation-manual-opam">Manual (opam)</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/installation-docker">Docker Image</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/installation-jupyter">Jupyter Notebook</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/installation-vscode">VSCode</a>
                                            
                                            
                                            
                                        </li>
                                        
                                    </ul>
                                
                                
                                
                                
                            </li>
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/logic-and-program-modes">Logic and Program modes</a>
                                
                                
                                    <ul class="side__nav-list--sub-level-2 ">
                                        
                                    </ul>
                                
                                
                                
                                
                            </li>
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 ">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/verification">Verification</a>
                                
                                
                                    <ul class="side__nav-list--sub-level-2 ">
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/verification-commands">Commands</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/verification-attributes">Attributes</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/verification-unrolling">Unrolling</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/verification-simplification">Simplification</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/verification-blast">Blast</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/verification-induction">Induction</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/verification-waterfall">Waterfall</a>
                                            
                                            
                                            
                                        </li>
                                        
                                    </ul>
                                
                                
                                
                                
                            </li>
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/proving-program-termination">Proving program termination</a>
                                
                                
                                    <ul class="side__nav-list--sub-level-2 ">
                                        
                                    </ul>
                                
                                
                                
                                
                            </li>
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 ">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/decomposition">Region Decomposition</a>
                                
                                
                                    <ul class="side__nav-list--sub-level-2 ">
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/imandra-tools-intro">Imandra tools introduction</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/idf">Iterative Decomposition Framework</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/notebooks/region-probabilities">Region probabilities</a>
                                            
                                            
                                            
                                        </li>
                                        
                                    </ul>
                                
                                
                                
                                
                            </li>
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/loading-files">Multifile development</a>
                                
                                
                                    <ul class="side__nav-list--sub-level-2 ">
                                        
                                    </ul>
                                
                                
                                
                                
                            </li>
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/extracting-ocaml-modules-with-imandra-extract">Extracting OCaml modules</a>
                                
                                
                                    <ul class="side__nav-list--sub-level-2 ">
                                        
                                    </ul>
                                
                                
                                
                                
                            </li>
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/plugins">Code generation and plugins</a>
                                
                                
                                    <ul class="side__nav-list--sub-level-2 ">
                                        
                                    </ul>
                                
                                
                                
                                
                            </li>
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/reflection">Reflection of terms</a>
                                
                                
                                    <ul class="side__nav-list--sub-level-2 ">
                                        
                                    </ul>
                                
                                
                                
                                
                            </li>
                            
                            
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 ">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/examples">Examples</a>
                                
                                
                                
                                    <div class="side__within-page-nav--sub-level-1">
                                    

  <a class="side__nav-link--within-page side__nav-link--within-page--h2" href="/imandra-docs/notebooks/examples/#Beginner">Beginner</a>
  <ul class="side__nav-list--sub-level-3  side__nav-list--sub-level-2--active">
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/webservice-auth-logic">Analysing Web-app authentication logic</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/simple-vehicle-controller">Simple vehicle controller</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/simple-stoplight-model">Simple car intersection model</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/reasonml-tic-tac-toe">Tic Tac Toe with ReasonML</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/reasonml-facetime-state-machines">Exploring The Apple FaceTime Bug with ReasonML State Machines</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/crossing-river-safely">Crossing the river safely</a>
      
      
  </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  <a class="side__nav-link--within-page side__nav-link--within-page--h2" href="/imandra-docs/notebooks/examples/#Intermediate">Intermediate</a>
  <ul class="side__nav-list--sub-level-3  side__nav-list--sub-level-2--active">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/ubs-case-study">Analysing the UBS ATS Dark Pool</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/six-swiss-exchange-pricing">Region Decomposition - Exchange Pricing</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-an-ros-node">Creating and Verifying a ROS Node</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/key-pair-security">Key Pair Security in Imandra</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/sudoku">Solving Sudoku with Imandra</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/solver-synthesis">Synthesising a game solver in Imandra</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/exchange-implied-trading">Exchange Implied Trading</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/school-scheduler">Solving school scheduling during COVID</a>
      
      
  </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  <a class="side__nav-link--within-page side__nav-link--within-page--h2" href="/imandra-docs/notebooks/examples/#Advanced">Advanced</a>
  <ul class="side__nav-list--sub-level-3  side__nav-list--sub-level-2--active">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/recursion-induction-and-rewriting">Recursion, Induction and Rewriting</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-merge-sort">Verifying merge sort in Imandra</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link side__nav-link--active" href="/imandra-docs/notebooks/ripple-carry-adder">Verifying a Ripple Carry Adder</a>
      
      
      <ul class="side__nav-list--sub-level-3">
          <div class="side__within-page-nav--sub-level-3">
          
          
          </div>
      </ul>
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/">Region Probabilities</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/supervised-learning">Analysing Machine Learning Models</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/probabilistic-reasoning-in-reasonml">Probabilistic Reasoning in ReasonML</a>
      
      
  </li>
  
  
  
  <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
      
      <a class="side__nav-link" href="/imandra-docs/notebooks/a-comparison-with-tla-plus">A comparison with TLA+</a>
      
      
  </li>
  
  


                                    </div>
                                
                            </li>
                            
                            
                            
                            <li class="side__nav-list-item--sub-level-1 ">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/reference">Reference</a>
                                
                                
                                    <ul class="side__nav-list--sub-level-2 ">
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/odoc/imandra-base/Imandra_prelude/">Standard Library</a>
                                            
                                            
                                            
                                        </li>
                                        
                                        <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                            
                                            <a class="side__nav-link" href="/imandra-docs/odoc/">API Docs</a>
                                            
                                            
                                            
                                        </li>
                                        
                                    </ul>
                                
                                
                                
                                
                            </li>
                            
                        </ul>
                        
                    </li>
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link" href="/idf-py">Py IDF</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link" href="/ipl">Imandra Protocol Language</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link" href="/imandra-rule-synth">Imandra Rule Synth</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link" href="/fix-engine">FIX Engine</a>
                        
                    </li>
                    
                </ul>
            </nav>
        </div>
    </div>

    <div class="background">
    </div>



    <div class="template-header">
        <div class="top-bar">
            <div class="side__nav-search">
                <input id="search" type="search" placeholder="Search">
                <div class="side__nav-search-icon">
                    <i class="fa fa-search"></i>
                </div>
            </div>

            <nav class="top-bar__nav-container">
                <a href="#" class="top-bar__toggle">â‰¡</a>
                <div class="top-nav-bar__group ">
                    <div class="top-nav-bar__nav nav-bar--blue top-nav-bar__nav--hidden">
                        <ul class="top-nav-bar__links top-nav-bar__links--hidden-smaller-than-tablet">
                            <li class="top-nav-bar__item">
                                <a href="https://www.imandra.ai/" class="top-nav-bar__link">Home</a>
                            </li>
                            <li class="top-nav-bar__item">
                                <a href="https://try.imandra.ai/" class="top-nav-bar__link">Try</a>
                            </li>
                            <li class="top-nav-bar__item top-nav-bar__item--group dropdown--engine">
                                <a class="top-nav-bar__link top-nav-bar__link--group">Engine</a>
                                <ul class="dropdown-content dropdown-content--engine">
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--core.svg" alt="Imandra Core" title="Imandra Core Icon">
                                        <a class="dropdown__link" href="https://www.imandra.ai/core">Imandra Core</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--demos.svg" alt="Demo Gallery" title="Imandra Demo Gallery Icon">
                                        <a class="dropdown__link" href="https://www.imandra.ai/demos">Demo Gallery</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--docs.svg" alt="Docs" title="Docs Icon">
                                        <a class="dropdown__link" href="https://docs.imandra.ai/">Docs</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--research.svg" alt="Research" title="Research Icon">
                                        <a class="dropdown__link dropdown__link--last" href="https://www.imandra.ai/research">Research</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="top-nav-bar__item top-nav-bar__item--group dropdown--industries">
                                <a class="top-nav-bar__link top-nav-bar__link--group">Industries</a>
                                <ul class="dropdown-content dropdown-content--industries">
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--financial.svg" alt="Financial Markets" title="Financial Markets Icon">
                                        <a class="dropdown__link " href="https://www.imandra.ai/imarkets">Financial Markets</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--autonomy.svg" alt="Autonomous Systems" title="Autonomous Systems Icon">
                                        <a class="dropdown__link" href="https://www.imandra.ai/autonomy">Autonomous Systems</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--ml.svg" alt="Machine Learning" title="Machine Learning Icon">
                                        <a class="dropdown__link" href="https://www.imandra.ai/ml">Machine Learning</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--government.svg" alt="Machine Learning" title="Machine Learning Icon">
                                        <a class="dropdown__link dropdown__link--last" href="https://www.imandra.ai/government">Government and defense</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="top-nav-bar__item top-nav-bar__item--group dropdown--media">
                                <a class="top-nav-bar__link top-nav-bar__link--group">Media</a>
                                <ul class="dropdown-content dropdown-content--media">
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--media.svg" alt="Media" title="Media Icon">
                                        <a class="dropdown__link " href="https://www.imandra.ai/media">Media</a></li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--blog.svg" alt="Blog" title="Blog Icon">
                                        <a class="dropdown__link dropdown__link--last " href="https://medium.com/imandra">Blog</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="top-nav-bar__item top-nav-bar__item--group dropdown--company">
                                <a class="top-nav-bar__link top-nav-bar__link--group">Company</a>
                                <ul class="dropdown-content dropdown-content--company">
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--about.svg" alt="About" title="About Icon">
                                        <a class="dropdown__link" href="https://www.imandra.ai/about">About</a></li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--careers.svg" alt=" Careers" title="Careers Icon">
                                        <a class="dropdown__link dropdown__link--last dropdown__link--bottom" href="https://www.imandra.ai/careers">Careers</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>

        <div class="template-header__image-container template-header__image-container--jupyter">
            <div class="template-header__image" href ="/imandra-docs">
                <img class="site-specific-image" src="/imandra-docs/static/img/site_specific_image_v_2.svg">
            </div>
        </div>

    </div>



    <script>
        document.getElementById('toggler--left').addEventListener('click', function () {
            document.querySelector('.side__right-menu-toggler .side__toggle').classList.remove(
                'side__toggle--active');
            document.querySelector('.side__left-menu-toggler .side__toggle').classList.toggle(
                'side__toggle--active');
            document.getElementsByClassName('side__nav-container')[0].classList.toggle(
                'side__nav-container--hidden');
            document.getElementsByClassName('top-nav-bar__nav')[0].classList.add('top-nav-bar__nav--hidden');
        });

        document.getElementById('toggler--right').addEventListener('click', function () {
            document.querySelector('.side__left-menu-toggler .side__toggle').classList.remove(
                'side__toggle--active');
            document.querySelector('.side__right-menu-toggler .side__toggle').classList.toggle(
                'side__toggle--active');

            document.getElementsByClassName('side__nav-container')[0].classList.add(
                'side__nav-container--hidden');
            document.getElementsByClassName('top-nav-bar__nav')[0].classList.toggle(
                'top-nav-bar__nav--hidden');
        });
    </script>
</header>
                <article class="article__container article__container--notebooks">
                    <div class="main-content main-content--jupyter">
                        
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Verifying-a-Ripple-Carry-Adder-in-Imandra">Verifying a Ripple-Carry Adder in Imandra<a class="anchor-link" href="#Verifying-a-Ripple-Carry-Adder-in-Imandra">&#182;</a></h1><p><img src="https://upload.wikimedia.org/wikipedia/commons/5/57/Fulladder.gif"></p>
<p>In this notebook, we'll verify a simple hardware design in Imandra, that of a full (arbitrary width) <em>ripple-carry adder</em>.</p>
<p>We'll express this simple piece of hardware at the <em>gate</em> level.</p>
<p>The correctness theorem we'll prove is as follows:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><div class="highlight"><pre><span></span><span class="n">theorem</span> <span class="n">full_ripple_carry_adder_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">b</span> <span class="o">==&gt;</span>
  <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span> <span class="o">=</span>
  <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This theorem expresses that our (arbitrary width) adder circuit is correct for all possible bit sequences.</p>
<h1 id="Building-the-circuit-in-Imandra">Building the circuit in Imandra<a class="anchor-link" href="#Building-the-circuit-in-Imandra">&#182;</a></h1><p>We begin by defining <code>xor</code> and our basic building blocks <code>adder_sum</code> and <code>adder_carry_out</code>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-4" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">xor</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&lt;&gt;</span> <span class="n">y</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[1]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val xor : bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We now define the basic sum and carry circuits for our adder.</p>
<table border="0">
    <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/1-bit_full-adder.svg/215px-1-bit_full-adder.svg.png"></td><td>&nbsp;</td><td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Full-adder_logic_diagram.svg/400px-Full-adder_logic_diagram.svg.png"></td></tr>
</table><p>We'll define two functions: <code>adder_sum</code> and <code>adder_carry_out</code>. Notice these are purely logical (<em>"combinational"</em>), i.e., they're defined using combinations of logic gates like <code>xor</code>, <code>and</code> (<code>&amp;&amp;</code>), and <code>or</code> (<code>||</code>) operating on <code>bool</code> values.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-6" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="n">xor</span> <span class="o">(</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="n">cin</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val adder_sum : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-7" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="o">((</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">cin</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">a</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val adder_carry_out : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To help us understand and document how it works, we can use Imandra's <code>Document</code> machinery to produce a truth-table for our one-bit full adder circuit:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-9" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">args</span> <span class="o">=</span> <span class="nn">CCList</span><span class="p">.</span><span class="n">cartesian_product</span> <span class="o">[[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">];</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">];</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">]]</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">pb</span> <span class="n">b</span> <span class="o">=</span> <span class="nn">Document</span><span class="p">.</span><span class="n">s</span> <span class="o">(</span><span class="n">string_of_bool</span> <span class="n">b</span><span class="o">)</span> <span class="k">in</span>
<span class="nn">Imandra</span><span class="p">.</span><span class="n">display</span> <span class="o">@@</span>
 <span class="nn">Document</span><span class="p">.</span><span class="o">(</span><span class="n">tbl</span> <span class="o">~</span><span class="n">headers</span><span class="o">:[</span><span class="s2">&quot;a&quot;</span><span class="o">;</span><span class="s2">&quot;b&quot;</span><span class="o">;</span><span class="s2">&quot;cin&quot;</span><span class="o">;</span><span class="s2">&quot;sum&quot;</span><span class="o">;</span><span class="s2">&quot;cout&quot;</span><span class="o">]</span> <span class="o">@@</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="k">function</span> <span class="o">[</span><span class="n">a</span><span class="o">;</span><span class="n">b</span><span class="o">;</span><span class="n">cin</span><span class="o">]</span> <span class="o">-&gt;</span>
   <span class="o">[</span><span class="n">pb</span> <span class="n">a</span><span class="o">;</span> <span class="n">pb</span> <span class="n">b</span><span class="o">;</span> <span class="n">pb</span> <span class="n">cin</span><span class="o">;</span> <span class="n">pb</span> <span class="o">(</span><span class="n">adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">);</span> <span class="n">pb</span> <span class="o">(</span><span class="n">adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)]</span>
   <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="bp">[]</span><span class="o">)</span>
   <span class="n">args</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : unit = ()
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-table" id="table-63d76441-cfc0-4ab4-9623-9b9eacf3367f"><table><thead><tr><th>a</th><th>b</th><th>cin</th><th>sum</th><th>cout</th></tr></thead><tr><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td></tr><tr><td>false</td><td>false</td><td>true</td><td>true</td><td>false</td></tr><tr><td>false</td><td>true</td><td>false</td><td>true</td><td>false</td></tr><tr><td>false</td><td>true</td><td>true</td><td>false</td><td>true</td></tr><tr><td>true</td><td>false</td><td>false</td><td>true</td><td>false</td></tr><tr><td>true</td><td>false</td><td>true</td><td>false</td><td>true</td></tr><tr><td>true</td><td>true</td><td>false</td><td>false</td><td>true</td></tr><tr><td>true</td><td>true</td><td>true</td><td>true</td><td>true</td></tr></table></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now define our ripple-carry adder, for arbitrary length bitvector inputs.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-11" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">ripple_carry_adder</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">cin</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span> <span class="k">with</span>
  <span class="o">|</span> <span class="n">a1</span> <span class="o">::</span> <span class="n">a&#39;</span><span class="o">,</span> <span class="n">b1</span> <span class="o">::</span> <span class="n">b&#39;</span> <span class="o">-&gt;</span>
    <span class="n">adder_sum</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span> <span class="o">::</span>
    <span class="n">ripple_carry_adder</span> <span class="n">a&#39;</span> <span class="n">b&#39;</span> <span class="o">(</span><span class="n">adder_carry_out</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span><span class="o">)</span>
  <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="k">if</span> <span class="n">cin</span> <span class="k">then</span> <span class="o">[</span><span class="n">cin</span><span class="o">]</span> <span class="k">else</span> <span class="bp">[]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val ripple_carry_adder : bool list -&gt; bool list -&gt; bool -&gt; bool list = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-8d4bc4dd-a612-45ba-8893-086eb07c1711"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-c50147be-3bf1-4cf0-abdd-a2304ab3e03a"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `ripple_carry_adder (List.tl a) (List.tl b)
(adder_carry_out (List.hd a) (List.hd b) cin)` from `ripple_carry_adder a b cin`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-05e44e26-9ec8-43b3-bc11-bb6c54df23f8"><table><tr><td><b>original</b></td><td>ripple_carry_adder a b cin</td></tr><tr><td><b>sub</b></td><td>ripple_carry_adder (List.tl a) (List.tl b)
(adder_carry_out (List.hd a) (List.hd b) cin)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count a)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl a))</td></tr><tr><td><b>path</b></td><td>[a &lt;&gt; [] &amp;&amp; b &lt;&gt; []]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-6e8afda7-59fb-4635-a4cb-68bebeb016c6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-66bb7081-cfc0-40a5-9480-d7e782102e97"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-c993cfc0-a234-49ad-bc38-5d385c828659"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.018s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-e79eb9de-175c-4484-aff0-7e45c49166ec"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-edc1147c-c206-4cc3-8b3f-333efd2f93b9"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-f2be4f4b-dbe4-43dd-9bd7-ab4a36bdcbcd"><table><tr><td><b>num checks</b></td><td>7</td></tr><tr><td><b>arith-make-feasible</b></td><td>7</td></tr><tr><td><b>arith-max-columns</b></td><td>13</td></tr><tr><td><b>arith-conflicts</b></td><td>1</td></tr><tr><td><b>rlimit count</b></td><td>2225</td></tr><tr><td><b>mk clause</b></td><td>29</td></tr><tr><td><b>datatype occurs check</b></td><td>26</td></tr><tr><td><b>mk bool var</b></td><td>76</td></tr><tr><td><b>arith-lower</b></td><td>4</td></tr><tr><td><b>datatype splits</b></td><td>6</td></tr><tr><td><b>decisions</b></td><td>30</td></tr><tr><td><b>propagations</b></td><td>28</td></tr><tr><td><b>arith-max-rows</b></td><td>5</td></tr><tr><td><b>conflicts</b></td><td>8</td></tr><tr><td><b>datatype accessor ax</b></td><td>9</td></tr><tr><td><b>datatype constructor ax</b></td><td>14</td></tr><tr><td><b>num allocs</b></td><td>887317334</td></tr><tr><td><b>final checks</b></td><td>6</td></tr><tr><td><b>added eqs</b></td><td>84</td></tr><tr><td><b>del clause</b></td><td>14</td></tr><tr><td><b>arith eq adapter</b></td><td>5</td></tr><tr><td><b>arith-upper</b></td><td>6</td></tr><tr><td><b>memory</b></td><td>19.890000</td></tr><tr><td><b>max memory</b></td><td>27.270000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e79eb9de-175c-4484-aff0-7e45c49166ec';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-8244cd8c-4652-48b0-9895-2e1c327b3ef6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.018s]
  let (_x_0 : int) = Ordinal.count a in
  let (_x_1 : bool list) = List.tl a in
  let (_x_2 : int) = Ordinal.count _x_1 in
  (a &lt;&gt; [] &amp;&amp; b &lt;&gt; []) &amp;&amp; _x_0 &gt;= 0 &amp;&amp; _x_2 &gt;= 0
  ==&gt; not (_x_1 &lt;&gt; [] &amp;&amp; (List.tl b) &lt;&gt; [])
      || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_2) (Ordinal.Int _x_0)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-d3bef3c9-e7bf-46f1-a47c-06c6f3a53fa6"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : bool list) = List.tl a in
let (_x_1 : int) = Ordinal.count _x_0 in
let (_x_2 : int) = Ordinal.count a in
(not (_x_0 &lt;&gt; [] &amp;&amp; (List.tl b) &lt;&gt; [])
 || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_1) (Ordinal.Int _x_2))
|| not (((a &lt;&gt; [] &amp;&amp; b &lt;&gt; []) &amp;&amp; _x_2 &gt;= 0) &amp;&amp; _x_1 &gt;= 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-f9d12103-53ca-40a7-9da1-25093f536705"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_2467| a_2454)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-c94dd1b4-c230-4e39-b81c-b80d37689bdb"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_2467| (|get.::.1_2453| a_2454))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-6a1962c4-6827-493a-9456-0f3df0af3f0e"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_102| (|Ordinal.Int_93| (|count_`bool list`_2467|
                                      â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Unsat</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-8244cd8c-4652-48b0-9895-2e1c327b3ef6';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-66bb7081-cfc0-40a5-9480-d7e782102e97';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-6e8afda7-59fb-4635-a4cb-68bebeb016c6';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c50147be-3bf1-4cf0-abdd-a2304ab3e03a';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-8d4bc4dd-a612-45ba-8893-086eb07c1711';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's now compute with our adder to get a feel for it.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-13" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">zero</span> <span class="o">=</span> <span class="bp">[]</span>
<span class="k">let</span> <span class="n">one</span> <span class="o">=</span> <span class="o">[</span><span class="bp">true</span><span class="o">]</span>
<span class="k">let</span> <span class="n">two</span> <span class="o">=</span> <span class="o">[</span><span class="bp">false</span><span class="o">;</span> <span class="bp">true</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val zero : &#39;a list = []
val one : bool list = [true]
val two : bool list = [false; true]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-14" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">ripple_carry_adder</span> <span class="n">zero</span> <span class="n">zero</span> <span class="bp">false</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list = []
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-15" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">ripple_carry_adder</span> <span class="n">one</span> <span class="n">one</span> <span class="bp">false</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list = [false; true]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-16" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">instance</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">false</span> <span class="o">=</span> <span class="o">[</span><span class="bp">false</span><span class="o">;</span> <span class="bp">false</span><span class="o">;</span> <span class="bp">false</span><span class="o">;</span> <span class="bp">true</span><span class="o">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[9]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list -&gt; bool list -&gt; bool = &lt;fun&gt;
module CX : sig val a : bool list val b : bool list end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Instance (after 4 steps, 0.018s):
 let (a : bool list) = [true; true; true]
 let (b : bool list) = [true; false; false]
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Instance</span></div><div><div class="imandra-alternatives" id="alt-bb25afc4-fbfa-4866-8fac-5b8866912b39"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-556a6577-6baf-48a7-b9c1-43a15db5709a"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;ripple_carry_adder a b false = false :: (false :: (false :: (true :: â€¦)))&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_16 [label=&quot;calls&quot;];
call_16 [label=&quot;ripple_carry_adder a b false&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_16 -&gt; call_190 [label=&quot;calls&quot;];
call_190 [label=&quot;ripple_carry_adder (List.tl a) (List.tl b) (List.hd a &amp;&amp; List.hd b)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_190 -&gt; call_357 [label=&quot;calls&quot;];
call_357 [label=&quot;let (_x_0 : bool list) = List.tl a in\llet (_x_1 : bool list) = List.tl b in\llet (_x_2 : bool) = List.hd _x_0 in\llet (_x_3 : bool) = List.hd _x_1 in\lripple_carry_adder (List.tl _x_0) (List.tl _x_1)\l(_x_2 &amp;&amp; _x_3 \|\| (not _x_2 = _x_3 &amp;&amp; List.hd a) &amp;&amp; List.hd b)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_357 -&gt; call_641 [label=&quot;calls&quot;];
call_641 [label=&quot;let (_x_0 : bool list) = List.tl a in\llet (_x_1 : bool list) = List.tl _x_0 in\llet (_x_2 : bool list) = List.tl b in\llet (_x_3 : bool list) = List.tl _x_2 in\llet (_x_4 : bool) = List.hd _x_1 in\llet (_x_5 : bool) = List.hd _x_3 in\llet (_x_6 : bool) = List.hd _x_0 in\llet (_x_7 : bool) = List.hd _x_2 in\lripple_carry_adder (List.tl _x_1) (List.tl _x_3)\l(_x_4 &amp;&amp; _x_5\l \|\| not _x_4 = _x_5\l    &amp;&amp; (_x_6 &amp;&amp; _x_7 \|\| (not _x_6 = _x_7 &amp;&amp; List.hd a) &amp;&amp; List.hd b))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_641 -&gt; call_916 [label=&quot;calls&quot;];
call_916 [label=&quot;let (_x_0 : bool list) = List.tl a in\llet (_x_1 : bool list) = List.tl _x_0 in\llet (_x_2 : bool list) = List.tl _x_1 in\llet (_x_3 : bool list) = List.tl b in\llet (_x_4 : bool list) = List.tl _x_3 in\llet (_x_5 : bool list) = List.tl _x_4 in\llet (_x_6 : bool) = List.hd _x_2 in\llet (_x_7 : bool) = List.hd _x_5 in\llet (_x_8 : bool) = List.hd _x_1 in\llet (_x_9 : bool) = List.hd _x_4 in\llet (_x_10 : bool) = List.hd _x_0 in\llet (_x_11 : bool) = List.hd _x_3 in\lripple_carry_adder (List.tl _x_2) (List.tl _x_5)\l(_x_6 &amp;&amp; _x_7\l \|\| not _x_6 = _x_7\l    &amp;&amp; (_x_8 &amp;&amp; _x_9\l        \|\| not _x_8 = _x_9\l           &amp;&amp; (_x_10 &amp;&amp; _x_11\l               \|\| (not _x_10 = _x_11 &amp;&amp; List.hd a) &amp;&amp; List.hd b)))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-556a6577-6baf-48a7-b9c1-43a15db5709a';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-d8abbc36-ccc7-48f3-a29d-ac656898c3fe"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-5c3f4f16-ce56-4bd7-b801-71f4df789cd9"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-cb84a8cc-ac38-44e5-8905-5ef10e199693"><table><tr><td><b>ground_instances</b></td><td>4</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.018s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-f313b059-ec07-4adf-a109-0451f510c7df"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-c1262214-2dc0-41c1-850f-4aa4bd538359"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-15b1241e-52b9-4fc2-aeb1-0290230798c7"><table><tr><td><b>num checks</b></td><td>9</td></tr><tr><td><b>arith-make-feasible</b></td><td>1</td></tr><tr><td><b>arith-max-columns</b></td><td>4</td></tr><tr><td><b>rlimit count</b></td><td>4335</td></tr><tr><td><b>mk clause</b></td><td>197</td></tr><tr><td><b>datatype occurs check</b></td><td>71</td></tr><tr><td><b>mk bool var</b></td><td>189</td></tr><tr><td><b>datatype splits</b></td><td>12</td></tr><tr><td><b>decisions</b></td><td>59</td></tr><tr><td><b>propagations</b></td><td>211</td></tr><tr><td><b>conflicts</b></td><td>16</td></tr><tr><td><b>datatype accessor ax</b></td><td>27</td></tr><tr><td><b>datatype constructor ax</b></td><td>30</td></tr><tr><td><b>num allocs</b></td><td>940319356</td></tr><tr><td><b>final checks</b></td><td>11</td></tr><tr><td><b>added eqs</b></td><td>293</td></tr><tr><td><b>del clause</b></td><td>81</td></tr><tr><td><b>memory</b></td><td>20.750000</td></tr><tr><td><b>max memory</b></td><td>27.270000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-f313b059-ec07-4adf-a109-0451f510c7df';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-f4018ff5-63c4-458f-9077-e0c0da22c511"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.018s]
  ripple_carry_adder :var_0: :var_1: false =
  false :: (false :: (false :: (true :: â€¦)))</pre></li><li><div>unroll<div class="imandra-table" id="table-800ff397-a257-4e2b-ab71-8063598c490b"><table><tr><td><b>expr</b></td><td><pre>(ripple_carry_adder_25 a_37 b_38 false)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-8512507f-9b32-460d-952d-68e87e4b25f9"><table><tr><td><b>expr</b></td><td><pre>(ripple_carry_adder_25
  (|get.::.1_2503| a_37)
  (|get.::.1_2503| b_38)
  (and (|get.::.0_2502| a_3â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-6a2a3953-ef85-40ea-a3f6-93d0ce96f22d"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (= (not (|get.::.0_2502| (|get.::.1_2503| a_37)))
              (|get.::.0_2502| (|get.::â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-4bc62a87-8899-436f-974c-18d505c80620"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (and (|get.::.0_2502| (|get.::.1_2503| (|get.::.1_2503| a_37)))
                (|get.::.â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Sat (Some  let (a : bool list) = [true; true; true]
 let (b : bool list) = [true; false; false]
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-f4018ff5-63c4-458f-9077-e0c0da22c511';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-c9c30e2e-f057-4287-9d6e-7c94631354a9"><textarea style="display: none">digraph &quot;proof&quot; {
p_256 [label=&quot;Start (ripple_carry_adder :var_0: :var_1: false =\l       false :: (false :: (false :: (true :: â€¦))) :time 0.018s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_256 -&gt; p_255 [label=&quot;&quot;];
p_255 [label=&quot;Unroll ([ripple_carry_adder a b false], [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_255 -&gt; p_254 [label=&quot;&quot;];
p_254 [label=&quot;Unroll ([ripple_carry_adder (List.tl a) (List.tl b) (List.hd a &amp;&amp; List.hd b)],\l        [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_254 -&gt; p_253 [label=&quot;&quot;];
p_253 [label=&quot;Unroll ([let (_x_0 : bool list) = List.tl a in\l         let (_x_1 : bool list) = List.tl b in\l         let (_x_2 : bool) = List.hd _x_0 in\l         let (_x_3 : bool) = List.hd _x_1 in\l         ripple_carry_adder (List.tl _x_0) (List.tl _x_1)\l         (_x_2 &amp;&amp; _x_3 \|\| (not _x_2 = _x_3 &amp;&amp; List.hd a) &amp;&amp; List.hd b)],\l        [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_253 -&gt; p_252 [label=&quot;&quot;];
p_252 [label=&quot;Unroll ([let (_x_0 : bool list) = List.tl a in\l         let (_x_1 : bool list) = List.tl _x_0 in\l         let (_x_2 : bool list) = List.tl b in\l         let (_x_3 : bool list) = List.tl _x_2 in\l         let (_x_4 : bool) = List.hd _x_1 in\l         let (_x_5 : bool) = List.hd _x_3 in\l         let (_x_6 : bool) = List.hd _x_0 in\l         let (_x_7 : bool) = List.hd _x_2 in\l         ripple_carry_adder (List.tl _x_1) (List.tl _x_3)\l         (_x_4 &amp;&amp; _x_5\l          \|\| not _x_4 = _x_5\l             &amp;&amp; (_x_6 &amp;&amp; _x_7 \|\| (not _x_6 = _x_7 &amp;&amp; List.hd a) &amp;&amp; List.hd b))],\l        [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_252 -&gt; p_251 [label=&quot;&quot;];
p_251 [label=&quot;Sat (Some  let (a : bool list) = [true; true; true]\l let (b : bool list) = [true; false; false]\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-c9c30e2e-f057-4287-9d6e-7c94631354a9';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-5c3f4f16-ce56-4bd7-b801-71f4df789cd9';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d8abbc36-ccc7-48f3-a29d-ac656898c3fe';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-bb25afc4-fbfa-4866-8fac-5b8866912b39';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Relating-bit-sequences-to-natural-numbers">Relating bit sequences to natural numbers<a class="anchor-link" href="#Relating-bit-sequences-to-natural-numbers">&#182;</a></h1><p>Let's now define some functions to relate our bit sequences to natural numbers. These will be useful both in our computations and in our expression of our correctness criteria for the circut.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-18" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">int_of_bit</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="nn">Z</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span>
 <span class="k">if</span> <span class="n">a</span> <span class="k">then</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>

<span class="k">let</span> <span class="k">rec</span> <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">:</span> <span class="nn">Z</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">a</span> <span class="k">with</span>
   <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="mi">0</span>
   <span class="o">|</span> <span class="n">a</span> <span class="o">::</span> <span class="n">a&#39;</span> <span class="o">-&gt;</span> <span class="n">int_of_bit</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="o">(</span><span class="n">int_of_bits</span> <span class="n">a&#39;</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[10]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val int_of_bit : bool -&gt; int = &lt;fun&gt;
val int_of_bits : bool list -&gt; int = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-d50c2e8c-a86e-49ea-9ea3-11d80498aad4"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-48ec4ee8-a262-4eb2-aae1-dfeff10ab304"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `int_of_bits (List.tl a)` from `int_of_bits a`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-1f779cdd-e676-449e-bc3d-6647524cdf4d"><table><tr><td><b>original</b></td><td>int_of_bits a</td></tr><tr><td><b>sub</b></td><td>int_of_bits (List.tl a)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count a)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl a))</td></tr><tr><td><b>path</b></td><td>[not (a = [])]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-c0d8a90e-f043-4f93-ae29-44b147b1ea22"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-da305b26-d43e-43ab-b261-71df28710a04"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-3731dc04-8091-47f2-9636-6669ff424d9e"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.021s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-069bc1ab-b493-423d-978e-02dda5687894"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-b37f1920-bb21-4ada-beaa-3a2410859644"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-b1a71db7-5006-4485-9f0e-176179d2de71"><table><tr><td><b>num checks</b></td><td>7</td></tr><tr><td><b>arith-make-feasible</b></td><td>11</td></tr><tr><td><b>arith-max-columns</b></td><td>13</td></tr><tr><td><b>arith-conflicts</b></td><td>1</td></tr><tr><td><b>rlimit count</b></td><td>2030</td></tr><tr><td><b>arith-cheap-eqs</b></td><td>2</td></tr><tr><td><b>mk clause</b></td><td>11</td></tr><tr><td><b>datatype occurs check</b></td><td>36</td></tr><tr><td><b>mk bool var</b></td><td>54</td></tr><tr><td><b>arith-lower</b></td><td>5</td></tr><tr><td><b>datatype splits</b></td><td>6</td></tr><tr><td><b>decisions</b></td><td>17</td></tr><tr><td><b>propagations</b></td><td>10</td></tr><tr><td><b>arith-max-rows</b></td><td>5</td></tr><tr><td><b>conflicts</b></td><td>7</td></tr><tr><td><b>datatype accessor ax</b></td><td>5</td></tr><tr><td><b>datatype constructor ax</b></td><td>8</td></tr><tr><td><b>num allocs</b></td><td>967681866</td></tr><tr><td><b>final checks</b></td><td>9</td></tr><tr><td><b>added eqs</b></td><td>49</td></tr><tr><td><b>del clause</b></td><td>5</td></tr><tr><td><b>arith eq adapter</b></td><td>3</td></tr><tr><td><b>arith-upper</b></td><td>5</td></tr><tr><td><b>memory</b></td><td>23.720000</td></tr><tr><td><b>max memory</b></td><td>27.270000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-069bc1ab-b493-423d-978e-02dda5687894';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-c4f6321a-1422-4ea4-a10a-9bfb2a7f4c67"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.021s]
  let (_x_0 : int) = Ordinal.count a in
  let (_x_1 : bool list) = List.tl a in
  let (_x_2 : int) = Ordinal.count _x_1 in
  not (a = []) &amp;&amp; _x_0 &gt;= 0 &amp;&amp; _x_2 &gt;= 0
  ==&gt; _x_1 = [] || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_2) (Ordinal.Int _x_0)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-a2bd6f9f-ba50-4c55-962f-1beb8441fd32"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : bool list) = List.tl a in
let (_x_1 : int) = Ordinal.count _x_0 in
let (_x_2 : int) = Ordinal.count a in
(_x_0 = [] || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_1) (Ordinal.Int _x_2))
|| not ((not (a = []) &amp;&amp; _x_2 &gt;= 0) &amp;&amp; _x_1 &gt;= 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-1a0f4928-5ca3-4f87-a0dd-f6b6b9a9b805"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_2589| a_2580)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-12f8145b-5388-4b52-99ac-a3af2ae3cdf7"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_2589| (|get.::.1_2579| a_2580))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-a67ed843-2888-4705-a85f-33b4afd2dee4"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_102| (|Ordinal.Int_93| (|count_`bool list`_2589|
                                      â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Unsat</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c4f6321a-1422-4ea4-a10a-9bfb2a7f4c67';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-da305b26-d43e-43ab-b261-71df28710a04';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c0d8a90e-f043-4f93-ae29-44b147b1ea22';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-48ec4ee8-a262-4eb2-aae1-dfeff10ab304';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d50c2e8c-a86e-49ea-9ea3-11d80498aad4';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's experiment with these a bit, to ensure we understand their endianness (among other things).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-20" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[11]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : int = 1
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-21" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">[</span><span class="bp">false</span><span class="o">;</span> <span class="bp">true</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[12]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : int = 2
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-22" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">true</span><span class="o">;</span> <span class="bp">true</span><span class="o">;</span> <span class="bp">true</span><span class="o">;]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[13]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : int = 15
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can of course use Imandra to obtain some interesting examples by querying for interesting inputs to our functions via <code>instance</code>:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-24" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">instance</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">256</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[14]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list -&gt; bool = &lt;fun&gt;
module CX : sig val a : bool list end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Instance (after 10 steps, 0.036s):
 let (a : bool list) =
   [false; false; false; false; false; false; false; false; true]
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Instance</span></div><div><div class="imandra-alternatives" id="alt-cdda1122-7d20-4483-bcb0-16c06f7fb727"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-c3c0bc81-3f66-4255-8467-abf40cbf5dc7"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;int_of_bits a = 256&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_10 [label=&quot;calls&quot;];
call_10 [label=&quot;int_of_bits a&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_10 -&gt; call_65 [label=&quot;calls&quot;];
call_65 [label=&quot;int_of_bits (List.tl a)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_65 -&gt; call_187 [label=&quot;calls&quot;];
call_187 [label=&quot;int_of_bits (List.tl (List.tl a))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_187 -&gt; call_294 [label=&quot;calls&quot;];
call_294 [label=&quot;int_of_bits (List.tl (List.tl (List.tl a)))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_294 -&gt; call_575 [label=&quot;calls&quot;];
call_575 [label=&quot;int_of_bits (List.tl (List.tl (List.tl (List.tl a))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_575 -&gt; call_767 [label=&quot;calls&quot;];
call_767 [label=&quot;int_of_bits (List.tl (List.tl (List.tl (List.tl (List.tl a)))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_767 -&gt; call_975 [label=&quot;calls&quot;];
call_975 [label=&quot;int_of_bits (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_975 -&gt; call_1080 [label=&quot;calls&quot;];
call_1080 [label=&quot;int_of_bits\l(List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_1080 -&gt; call_1294 [label=&quot;calls&quot;];
call_1294 [label=&quot;int_of_bits\l(List.tl\l (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_1294 -&gt; call_1478 [label=&quot;calls&quot;];
call_1478 [label=&quot;int_of_bits\l(List.tl\l (List.tl\l  (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_1478 -&gt; call_1790 [label=&quot;calls&quot;];
call_1790 [label=&quot;int_of_bits\l(List.tl\l (List.tl\l  (List.tl\l   (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-c3c0bc81-3f66-4255-8467-abf40cbf5dc7';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-d2aa5b63-58a7-4f24-9171-8f16c41cb420"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-43bc1de2-f331-4260-9f2c-61c41668b666"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-e9e6009d-899f-49df-8650-453bf63d13ad"><table><tr><td><b>ground_instances</b></td><td>10</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.036s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-09169b4b-f433-4e7b-87ba-2ce52a4b1dab"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-796d1e5c-8114-40cf-821a-83aa47c4cbd5"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-5a263eb7-b192-4cc4-90b9-218f91724463"><table><tr><td><b>num checks</b></td><td>21</td></tr><tr><td><b>arith-make-feasible</b></td><td>155</td></tr><tr><td><b>arith-max-columns</b></td><td>43</td></tr><tr><td><b>arith-conflicts</b></td><td>16</td></tr><tr><td><b>rlimit count</b></td><td>9631</td></tr><tr><td><b>arith-gcd-calls</b></td><td>9</td></tr><tr><td><b>arith-cheap-eqs</b></td><td>10</td></tr><tr><td><b>mk clause</b></td><td>490</td></tr><tr><td><b>datatype occurs check</b></td><td>91</td></tr><tr><td><b>mk bool var</b></td><td>602</td></tr><tr><td><b>arith-lower</b></td><td>162</td></tr><tr><td><b>arith-diseq</b></td><td>80</td></tr><tr><td><b>datatype splits</b></td><td>37</td></tr><tr><td><b>decisions</b></td><td>155</td></tr><tr><td><b>arith-propagations</b></td><td>107</td></tr><tr><td><b>propagations</b></td><td>508</td></tr><tr><td><b>arith-patches</b></td><td>1</td></tr><tr><td><b>arith-bound-propagations-cheap</b></td><td>107</td></tr><tr><td><b>arith-max-rows</b></td><td>19</td></tr><tr><td><b>conflicts</b></td><td>75</td></tr><tr><td><b>datatype accessor ax</b></td><td>30</td></tr><tr><td><b>minimized lits</b></td><td>4</td></tr><tr><td><b>arith-bound-propagations-lp</b></td><td>26</td></tr><tr><td><b>datatype constructor ax</b></td><td>59</td></tr><tr><td><b>num allocs</b></td><td>1021757848</td></tr><tr><td><b>final checks</b></td><td>43</td></tr><tr><td><b>added eqs</b></td><td>669</td></tr><tr><td><b>del clause</b></td><td>361</td></tr><tr><td><b>arith eq adapter</b></td><td>194</td></tr><tr><td><b>arith-upper</b></td><td>155</td></tr><tr><td><b>arith-gcd-conflict</b></td><td>8</td></tr><tr><td><b>arith-branch</b></td><td>1</td></tr><tr><td><b>memory</b></td><td>24.590000</td></tr><tr><td><b>max memory</b></td><td>27.270000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-09169b4b-f433-4e7b-87ba-2ce52a4b1dab';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-a9f78a63-b70b-494d-9d18-6d43ac364cc3"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.036s] int_of_bits :var_0: = 256</pre></li><li><div>unroll<div class="imandra-table" id="table-d4fe570d-9c4b-4e52-a3dc-2e37eecc468a"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_42 a_46)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-e40d7ab3-a369-4242-a3bd-8a2319079e20"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_42 (|get.::.1_2613| a_46))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-99830c4e-3484-4eae-a088-76ac930a71fb"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_42 (|get.::.1_2613| (|get.::.1_2613| a_46)))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-d3073f67-e2ca-4d96-8d8a-86c6af1ff91a"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_42 (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| a_46))))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-a0960069-2667-46f4-bef0-4add5d0482bd"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| a_46))))))
  (int_of_â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-d857e61d-5032-4c8f-aa28-9b5adc89e7cc"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| a_46))))))
  (int_of_â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-68d9b630-f38b-4885-9556-7835077a4c99"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| a_46))))))
  (int_of_â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-91b0a185-bf0c-417f-a25d-8bc94efd737c"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| a_46))))))
  (int_of_â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-168e9af5-0421-4c1c-a14f-0750d03a7369"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| a_46))))))
(let ((a!2â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-6ce28254-91de-4643-a433-10c180c4cf5c"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| (|get.::.1_2613| a_46))))))
(let ((a!2â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Sat (Some  let (a : bool list) =
   [false; false; false; false; false; false; false; false; true]
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-a9f78a63-b70b-494d-9d18-6d43ac364cc3';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-a812c00f-4e0c-4eac-833e-d4349d813421"><textarea style="display: none">digraph &quot;proof&quot; {
p_274 [label=&quot;Start (int_of_bits :var_0: = 256 :time 0.036s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_274 -&gt; p_273 [label=&quot;&quot;];
p_273 [label=&quot;Unroll ([int_of_bits a], [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_273 -&gt; p_272 [label=&quot;&quot;];
p_272 [label=&quot;Unroll ([int_of_bits (List.tl a)], [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_272 -&gt; p_271 [label=&quot;&quot;];
p_271 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl a))], [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_271 -&gt; p_270 [label=&quot;&quot;];
p_270 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl (List.tl a)))], [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_270 -&gt; p_269 [label=&quot;&quot;];
p_269 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl (List.tl (List.tl a))))], [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_269 -&gt; p_268 [label=&quot;&quot;];
p_268 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl (List.tl (List.tl (List.tl a)))))],\l        [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_268 -&gt; p_267 [label=&quot;&quot;];
p_267 [label=&quot;Unroll ([int_of_bits\l         (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))],\l        [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_267 -&gt; p_266 [label=&quot;&quot;];
p_266 [label=&quot;Unroll ([int_of_bits\l         (List.tl\l          (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))],\l        [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_266 -&gt; p_265 [label=&quot;&quot;];
p_265 [label=&quot;Unroll ([int_of_bits\l         (List.tl\l          (List.tl\l           (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))],\l        [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_265 -&gt; p_264 [label=&quot;&quot;];
p_264 [label=&quot;Unroll ([int_of_bits\l         (List.tl\l          (List.tl\l           (List.tl\l            (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))))],\l        [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_264 -&gt; p_263 [label=&quot;&quot;];
p_263 [label=&quot;Sat (Some  let (a : bool list) =\l   [false; false; false; false; false; false; false; false; true]\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-a812c00f-4e0c-4eac-833e-d4349d813421';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-43bc1de2-f331-4260-9f2c-61c41668b666';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d2aa5b63-58a7-4f24-9171-8f16c41cb420';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-cdda1122-7d20-4483-bcb0-16c06f7fb727';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-25" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="nn">CX</span><span class="p">.</span><span class="n">a</span> <span class="nn">CX</span><span class="p">.</span><span class="n">a</span> <span class="bp">false</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[15]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : int = 512
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Verifying-our-circuit:-The-adder-is-correct-for-all-possible-inputs">Verifying our circuit: The adder is correct for all possible inputs<a class="anchor-link" href="#Verifying-our-circuit:-The-adder-is-correct-for-all-possible-inputs">&#182;</a></h1><p>Let's now prove our main theorem, namely that <code>ripple_carry_adder</code> is correct.</p>
<p>We'll prove this theorem by induction following the recursive definition of <code>ripple_carry_adder</code>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-27" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">theorem</span> <span class="n">full_ripple_carry_adder_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">b</span> <span class="o">==&gt;</span>
  <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span> <span class="o">=</span>
  <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span>
<span class="o">[@@</span><span class="n">induct</span> <span class="n">functional</span> <span class="n">ripple_carry_adder</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[16]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val full_ripple_carry_adder_correct : bool list -&gt; bool list -&gt; bool -&gt; bool =
  &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

List.length a = List.length b
==&gt; int_of_bits (ripple_carry_adder a b cin) =
    (int_of_bits a + int_of_bits b) + int_of_bit cin.

1 nontautological subgoal.

We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">ripple_carry_adder</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (not (a &lt;&gt; [] &amp;&amp; b &lt;&gt; []) ==&gt; Ï† a b cin)
 &amp;&amp; ((a &lt;&gt; [] &amp;&amp; b &lt;&gt; [])
     &amp;&amp; Ï† (List.tl a) (List.tl b)
        (adder_carry_out (List.hd a) (List.hd b) cin)
     ==&gt; Ï† a b cin).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. a &lt;&gt; [] &amp;&amp; b &lt;&gt; []
 C1. int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length</span>,<span class="ansi-blue-intense-fg ansi-bold"> int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold">
ripple_carry_adder</span> to the following 4 subgoals:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.4</span>:

 H0. 0 = List.length b
|---------------------------------------------------------------------------
 C0. cin
 C1. a &lt;&gt; []
 C2. 0 = int_of_bits a + int_of_bits b

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits</span>,
and the rewrite rule <span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.3</span>:

 H0. a &lt;&gt; []
 H1. List.length a = 0
|---------------------------------------------------------------------------
 C0. cin
 C1. b &lt;&gt; []
 C2. 0 = int_of_bits a + int_of_bits b

But simplification reduces this to true, using the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.2</span>:

 H0. cin
 H1. 0 = List.length b
|---------------------------------------------------------------------------
 C0. a &lt;&gt; []
 C1. 0 = int_of_bits a + int_of_bits b

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits</span>,
and the rewrite rule <span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.1</span>:

 H0. cin
 H1. a &lt;&gt; []
 H2. List.length a = 0
|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. 0 = int_of_bits a + int_of_bits b

But simplification reduces this to true, using the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. List.length a = List.length b
 H1. a &lt;&gt; []
 H2. b &lt;&gt; []
 H3. List.length (List.tl a) = List.length (List.tl b)
     ==&gt; int_of_bits
         (ripple_carry_adder (List.tl a) (List.tl b)
          (List.hd a &amp;&amp; List.hd b || not (List.hd a) = List.hd b &amp;&amp; cin))
         =
         (int_of_bits (List.tl a) + int_of_bits (List.tl b))
         + (if List.hd a &amp;&amp; List.hd b || not (List.hd a) = List.hd b &amp;&amp; cin
            then 1 else 0)
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b cin) =
 (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length</span>,<span class="ansi-blue-intense-fg ansi-bold"> int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold">
ripple_carry_adder</span> to the following 4 subgoals:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.4</span>:

 H0. List.length (List.tl a) = List.length (List.tl b)
 H1. a &lt;&gt; []
 H2. b &lt;&gt; []
 H3. int_of_bits (ripple_carry_adder (List.tl a) (List.tl b) cin) =
     int_of_bits (List.tl a) + int_of_bits (List.tl b)
|---------------------------------------------------------------------------
 C0. cin
 C1. List.hd a
 C2. List.hd a = List.hd b
 C3. int_of_bits (ripple_carry_adder a b false) =
     (1 + 2 * int_of_bits (List.tl a)) + 2 * int_of_bits (List.tl b)

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits
</span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.3</span>:

 H0. List.length (List.tl a) = List.length (List.tl b)
 H1. cin
 H2. a &lt;&gt; []
 H3. b &lt;&gt; []
 H4. int_of_bits (ripple_carry_adder (List.tl a) (List.tl b) cin) =
     (1 + int_of_bits (List.tl a)) + int_of_bits (List.tl b)
|---------------------------------------------------------------------------
 C0. List.hd a
 C1. List.hd a = List.hd b
 C2. int_of_bits (ripple_carry_adder a b true) =
     (2 + 2 * int_of_bits (List.tl a)) + 2 * int_of_bits (List.tl b)

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits
</span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. List.length (List.tl a) = List.length (List.tl b)
 H1. List.hd a
 H2. a &lt;&gt; []
 H3. b &lt;&gt; []
 H4. int_of_bits (ripple_carry_adder (List.tl a) (List.tl b) cin) =
     int_of_bits (List.tl a) + int_of_bits (List.tl b)
|---------------------------------------------------------------------------
 C0. cin
 C1. List.hd b
 C2. List.hd a = List.hd b
 C3. int_of_bits (ripple_carry_adder a b false) =
     (1 + 2 * int_of_bits (List.tl a)) + 2 * int_of_bits (List.tl b)

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits
</span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. List.length (List.tl a) = List.length (List.tl b)
 H1. cin
 H2. List.hd a
 H3. a &lt;&gt; []
 H4. b &lt;&gt; []
 H5. int_of_bits (ripple_carry_adder (List.tl a) (List.tl b) cin) =
     (1 + int_of_bits (List.tl a)) + int_of_bits (List.tl b)
|---------------------------------------------------------------------------
 C0. List.hd b
 C1. List.hd a = List.hd b
 C2. int_of_bits (ripple_carry_adder a b true) =
     (2 + 2 * int_of_bits (List.tl a)) + 2 * int_of_bits (List.tl b)

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits
</span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>.

<span class="ansi-cyan-intense-fg ansi-bold"> â“˜ </span> Rules:
    (:def List.length)
    (:def int_of_bits)
    (:def ripple_carry_adder)
    (:rw List.len_zero_is_empty)
    (:fc List.len_nonnegative)
    (:induct ripple_carry_adder)

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-9a709b35-26f6-4a3f-97b1-30d13254dc03"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-bdceeff9-2403-4115-b20a-123aad96dc1d"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-ae5a3390-35ec-4ddc-b297-b5e6348aa64e"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>63</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>2.823s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-43106293-6022-41c2-8ac4-0287621cb289"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[2.823s, &quot;Goal&quot;]
  List.length :var_0: = List.length :var_1:
  ==&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =
      (int_of_bits :var_0: + int_of_bits :var_1:)
      + (if :var_2: then 1 else 0)</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-09ad0bff-a951-4d05-a4f3-6c9fc22e843d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (List.length a = List.length b)
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[2.822s, &quot;1&quot;]
  not (List.length a = List.length b)
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)</pre></li><li><pre>induction on (functional ripple_carry_adder)
:scheme (not (a &lt;&gt; [] &amp;&amp; b &lt;&gt; []) ==&gt; Ï† a b cin)
        &amp;&amp; ((a &lt;&gt; [] &amp;&amp; b &lt;&gt; [])
            &amp;&amp; Ï† (List.tl a) (List.tl b)
               (adder_carry_out (List.hd a) (List.hd b) cin)
            ==&gt; Ï† a b cin)</pre></li><li><div><pre>Split (let (_x_0 : bool) = a &lt;&gt; [] &amp;&amp; b &lt;&gt; [] in
       let (_x_1 : bool) = not (List.length a = List.length b) in
       let (_x_2 : bool)
           = int_of_bits (ripple_carry_adder a b cin) =
             (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)
       in
       let (_x_3 : bool list) = List.tl a in
       let (_x_4 : bool list) = List.tl b in
       let (_x_5 : bool) = List.hd a in
       let (_x_6 : bool) = List.hd b in
       let (_x_7 : bool) = _x_5 &amp;&amp; _x_6 || not _x_5 = _x_6 &amp;&amp; cin in
       ((_x_0 || _x_1) || _x_2)
       &amp;&amp; ((_x_1 || _x_2)
           || not
              (_x_0
               &amp;&amp; (not (List.length _x_3 = List.length _x_4)
                   || int_of_bits (ripple_carry_adder _x_3 _x_4 _x_7) =
                      (int_of_bits _x_3 + int_of_bits _x_4)
                      + (if _x_7 then 1 else 0))))
       :cases [(not (List.length a = List.length b) || a &lt;&gt; [] &amp;&amp; b &lt;&gt; [])
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + (if cin then 1 else 0);
               let (_x_0 : bool list) = List.tl a in
               let (_x_1 : bool list) = List.tl b in
               let (_x_2 : bool) = List.hd a in
               let (_x_3 : bool) = List.hd b in
               let (_x_4 : bool) = _x_2 &amp;&amp; _x_3 || not _x_2 = _x_3 &amp;&amp; cin in
               (((not (List.length a = List.length b) || not (a &lt;&gt; []))
                 || not (b &lt;&gt; []))
                || not
                   (List.length _x_0 = List.length _x_1
                    ==&gt; int_of_bits (ripple_carry_adder _x_0 _x_1 _x_4) =
                        (int_of_bits _x_0 + int_of_bits _x_1)
                        + (if _x_4 then 1 else 0)))
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-1399da64-df49-427f-bf52-a36a5fd463a6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>let (_x_0 : bool list) = List.tl a in
let (_x_1 : bool list) = List.tl b in
let (_x_2 : bool) = List.hd a in
let (_x_3 : bool) = List.hd b in
let (_x_4 : bool) = _x_2 &amp;&amp; _x_3 || not _x_2 = _x_3 &amp;&amp; cin in
(((not (List.length a = List.length b) || not (a &lt;&gt; [])) || not (b &lt;&gt; []))
 || not
    (List.length _x_0 = List.length _x_1
     ==&gt; int_of_bits (ripple_carry_adder _x_0 _x_1 _x_4) =
         (int_of_bits _x_0 + int_of_bits _x_1) + (if _x_4 then 1 else 0)))
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[2.819s, &quot;1&quot;]
  let (_x_0 : bool list) = List.tl a in
  let (_x_1 : bool list) = List.tl b in
  let (_x_2 : bool) = List.hd a in
  let (_x_3 : bool) = List.hd b in
  let (_x_4 : bool) = _x_2 &amp;&amp; _x_3 || not _x_2 = _x_3 &amp;&amp; cin in
  (((not (List.length a = List.length b) || not (a &lt;&gt; [])) || not (b &lt;&gt; []))
   || not
      (List.length _x_0 = List.length _x_1
       ==&gt; int_of_bits (ripple_carry_adder _x_0 _x_1 _x_4) =
           (int_of_bits _x_0 + int_of_bits _x_1) + (if _x_4 then 1 else 0)))
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)</pre></li><li><div><div><h6>simplify</h6><div class="imandra-table" id="table-f910629d-eeb4-43ed-a92f-e23ffb5f7326"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : bool list) = List.tl a in
let (_x_1 : bool list) = List.tl b in
let (_x_2 : bool) = not (List.length _x_0 = List.length _x_1) in
let (_x_3 : bool) = cin || _x_2 in
let (_x_4 : bool) = List.hd a in
let (_x_5 : bool) = List.hd b in
let (_x_6 : bool) = _x_4 = _x_5 in
let (_x_7 : bool) = not (a &lt;&gt; []) in
let (_x_8 : bool) = not (b &lt;&gt; []) in
let (_x_9 : int) = int_of_bits _x_0 in
let (_x_10 : int) = 2 * _x_9 in
let (_x_11 : int) = int_of_bits _x_1 in
let (_x_12 : int) = 2 * _x_11 in
let (_x_13 : bool)
    = int_of_bits (ripple_carry_adder a b false) = (1 + _x_10) + _x_12
in
let (_x_14 : int) = int_of_bits (ripple_carry_adder _x_0 _x_1 cin) in
let (_x_15 : bool) = not (_x_14 = _x_9 + _x_11) in
let (_x_16 : bool) = not cin in
let (_x_17 : bool)
    = int_of_bits (ripple_carry_adder a b true) = (2 + _x_10) + _x_12
in
let (_x_18 : bool) = not (_x_14 = (1 + _x_9) + _x_11) in
let (_x_19 : bool) = not _x_4 in
((((((((_x_3 || _x_4) || _x_6) || _x_7) || _x_8) || _x_13) || _x_15)
  &amp;&amp; (((((((_x_2 || _x_4) || _x_6) || _x_16) || _x_7) || _x_8) || _x_17)
      || _x_18))
 &amp;&amp; (((((((_x_3 || _x_5) || _x_6) || _x_19) || _x_7) || _x_8) || _x_13)
     || _x_15))
&amp;&amp; ((((((((_x_2 || _x_5) || _x_6) || _x_16) || _x_19) || _x_7) || _x_8)
     || _x_17)
    || _x_18)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, List.length, List.length,
 List.length, List.length, List.length, List.length, List.length,
 List.length, List.length, List.length, List.length, List.length,
 List.length, int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder,
 int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, int_of_bits, int_of_bits, List.length, List.length,
 int_of_bits, int_of_bits, List.length, List.length, int_of_bits,
 int_of_bits, List.length, List.length, int_of_bits, int_of_bits,
 int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div><ul><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-1399da64-df49-427f-bf52-a36a5fd463a6';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-13769523-8627-4303-b7ca-6b86c19c7b8e"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (List.length a = List.length b) || a &lt;&gt; [] &amp;&amp; b &lt;&gt; [])
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[2.819s, &quot;2&quot;]
  (not (List.length a = List.length b) || a &lt;&gt; [] &amp;&amp; b &lt;&gt; [])
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)</pre></li><li><div><div><h6>simplify</h6><div class="imandra-table" id="table-da015ec3-a88e-4b23-bf7d-aa4db76040e7"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : bool) = a &lt;&gt; [] in
let (_x_1 : bool) = 0 = int_of_bits a + int_of_bits b in
let (_x_2 : bool) = not (0 = List.length b) in
let (_x_3 : bool) = b &lt;&gt; [] in
let (_x_4 : bool) = not _x_0 in
let (_x_5 : bool) = not (List.length a = 0) in
let (_x_6 : bool) = not cin in
(((((cin || _x_0) || _x_1) || _x_2)
  &amp;&amp; ((((cin || _x_3) || _x_4) || _x_1) || _x_5))
 &amp;&amp; (((_x_0 || _x_6) || _x_1) || _x_2))
&amp;&amp; ((((_x_3 || _x_6) || _x_4) || _x_1) || _x_5)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, List.length, int_of_bits,
 int_of_bits, ripple_carry_adder]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div><ul><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-13769523-8627-4303-b7ca-6b86c19c7b8e';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-09ad0bff-a951-4d05-a4f3-6c9fc22e843d';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-43106293-6022-41c2-8ac4-0287621cb289';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-34499ee0-b824-4094-a7ef-7522521242e4"><textarea style="display: none">digraph &quot;proof&quot; {
p_309 [label=&quot;Start (List.length :var_0: = List.length :var_1:\l       ==\&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =\l           (int_of_bits :var_0: + int_of_bits :var_1:)\l           + (if :var_2: then 1 else 0)\l       :name \&quot;Goal\&quot; :time 2.823s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_309 -&gt; p_307 [label=&quot;&quot;];
subgraph cluster_308 {
  color=blue;
p_307 [label=&quot;Start (not (List.length a = List.length b)\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)\l       :name \&quot;1\&quot; :time 2.822s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_307 -&gt; p_306 [label=&quot;&quot;];
p_306 [label=&quot;Induct ((functional ripple_carry_adder),\l        :scheme (not (a \&lt;\&gt; [] &amp;&amp; b \&lt;\&gt; []) ==\&gt; Ï† a b cin)\l                &amp;&amp; ((a \&lt;\&gt; [] &amp;&amp; b \&lt;\&gt; [])\l                    &amp;&amp; Ï† (List.tl a) (List.tl b)\l                       (adder_carry_out (List.hd a) (List.hd b) cin)\l                    ==\&gt; Ï† a b cin))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_306 -&gt; p_305 [label=&quot;&quot;];
p_305 [label=&quot;Split (let (_x_0 : bool) = a \&lt;\&gt; [] &amp;&amp; b \&lt;\&gt; [] in\l       let (_x_1 : bool) = not (List.length a = List.length b) in\l       let (_x_2 : bool)\l           = int_of_bits (ripple_carry_adder a b cin) =\l             (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)\l       in\l       let (_x_3 : bool list) = List.tl a in\l       let (_x_4 : bool list) = List.tl b in\l       let (_x_5 : bool) = List.hd a in\l       let (_x_6 : bool) = List.hd b in\l       let (_x_7 : bool) = _x_5 &amp;&amp; _x_6 \|\| not _x_5 = _x_6 &amp;&amp; cin in\l       ((_x_0 \|\| _x_1) \|\| _x_2)\l       &amp;&amp; ((_x_1 \|\| _x_2)\l           \|\| not\l              (_x_0\l               &amp;&amp; (not (List.length _x_3 = List.length _x_4)\l                   \|\| int_of_bits (ripple_carry_adder _x_3 _x_4 _x_7) =\l                      (int_of_bits _x_3 + int_of_bits _x_4)\l                      + (if _x_7 then 1 else 0))))\l       :cases [(not (List.length a = List.length b) \|\| a \&lt;\&gt; [] &amp;&amp; b \&lt;\&gt; [])\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + (if cin then 1 else 0);\l               let (_x_0 : bool list) = List.tl a in\l               let (_x_1 : bool list) = List.tl b in\l               let (_x_2 : bool) = List.hd a in\l               let (_x_3 : bool) = List.hd b in\l               let (_x_4 : bool) = _x_2 &amp;&amp; _x_3 \|\| not _x_2 = _x_3 &amp;&amp; cin in\l               (((not (List.length a = List.length b) \|\| not (a \&lt;\&gt; []))\l                 \|\| not (b \&lt;\&gt; []))\l                \|\| not\l                   (List.length _x_0 = List.length _x_1\l                    ==\&gt; int_of_bits (ripple_carry_adder _x_0 _x_1 _x_4) =\l                        (int_of_bits _x_0 + int_of_bits _x_1)\l                        + (if _x_4 then 1 else 0)))\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_305 -&gt; p_288 [label=&quot;&quot;];
subgraph cluster_289 {
  color=blue;
p_288 [label=&quot;Start (let (_x_0 : bool list) = List.tl a in\l       let (_x_1 : bool list) = List.tl b in\l       let (_x_2 : bool) = List.hd a in\l       let (_x_3 : bool) = List.hd b in\l       let (_x_4 : bool) = _x_2 &amp;&amp; _x_3 \|\| not _x_2 = _x_3 &amp;&amp; cin in\l       (((not (List.length a = List.length b) \|\| not (a \&lt;\&gt; []))\l         \|\| not (b \&lt;\&gt; []))\l        \|\| not\l           (List.length _x_0 = List.length _x_1\l            ==\&gt; int_of_bits (ripple_carry_adder _x_0 _x_1 _x_4) =\l                (int_of_bits _x_0 + int_of_bits _x_1)\l                + (if _x_4 then 1 else 0)))\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)\l       :name \&quot;1\&quot; :time 2.819s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_288 -&gt; p_287 [label=&quot;&quot;];
p_287 [label=&quot;Simplify (let (_x_0 : bool list) = List.tl a in\l          let (_x_1 : bool list) = List.tl b in\l          let (_x_2 : bool) = not (List.length _x_0 = List.length _x_1) in\l          let (_x_3 : bool) = cin \|\| _x_2 in\l          let (_x_4 : bool) = List.hd a in\l          let (_x_5 : bool) = List.hd b in\l          let (_x_6 : bool) = _x_4 = _x_5 in\l          let (_x_7 : bool) = not (a \&lt;\&gt; []) in\l          let (_x_8 : bool) = not (b \&lt;\&gt; []) in\l          let (_x_9 : int) = int_of_bits _x_0 in\l          let (_x_10 : int) = 2 * _x_9 in\l          let (_x_11 : int) = int_of_bits _x_1 in\l          let (_x_12 : int) = 2 * _x_11 in\l          let (_x_13 : bool)\l              = int_of_bits (ripple_carry_adder a b false) =\l                (1 + _x_10) + _x_12\l          in\l          let (_x_14 : int) = int_of_bits (ripple_carry_adder _x_0 _x_1 cin)\l          in\l          let (_x_15 : bool) = not (_x_14 = _x_9 + _x_11) in\l          let (_x_16 : bool) = not cin in\l          let (_x_17 : bool)\l              = int_of_bits (ripple_carry_adder a b true) =\l                (2 + _x_10) + _x_12\l          in\l          let (_x_18 : bool) = not (_x_14 = (1 + _x_9) + _x_11) in\l          let (_x_19 : bool) = not _x_4 in\l          ((((((((_x_3 \|\| _x_4) \|\| _x_6) \|\| _x_7) \|\| _x_8) \|\| _x_13) \|\| _x_15)\l            &amp;&amp; (((((((_x_2 \|\| _x_4) \|\| _x_6) \|\| _x_16) \|\| _x_7) \|\| _x_8)\l                 \|\| _x_17)\l                \|\| _x_18))\l           &amp;&amp; (((((((_x_3 \|\| _x_5) \|\| _x_6) \|\| _x_19) \|\| _x_7) \|\| _x_8)\l                \|\| _x_13)\l               \|\| _x_15))\l          &amp;&amp; ((((((((_x_2 \|\| _x_5) \|\| _x_6) \|\| _x_16) \|\| _x_19) \|\| _x_7)\l                \|\| _x_8)\l               \|\| _x_17)\l              \|\| _x_18)\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_287 -&gt; p_276 [label=&quot;&quot;];
subgraph cluster_277 {
  color=blue;
p_276 [label=&quot;Start (let (_x_0 : bool list) = List.tl a in\l       let (_x_1 : bool list) = List.tl b in\l       let (_x_2 : bool) = List.hd b in\l       let (_x_3 : bool) = List.hd a in\l       let (_x_4 : int) = int_of_bits _x_0 in\l       let (_x_5 : int) = int_of_bits _x_1 in\l       (((((((not (List.length _x_0 = List.length _x_1) \|\| _x_2)\l             \|\| _x_3 = _x_2)\l            \|\| not cin)\l           \|\| not _x_3)\l          \|\| not (a \&lt;\&gt; []))\l         \|\| not (b \&lt;\&gt; []))\l        \|\| int_of_bits (ripple_carry_adder a b true) =\l           (2 + 2 * _x_4) + 2 * _x_5)\l       \|\| not\l          (int_of_bits (ripple_carry_adder _x_0 _x_1 cin) = (1 + _x_4) + _x_5)\l       :name \&quot;1.1\&quot; :time 0.333s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_276 -&gt; p_275 [label=&quot;&quot;];
p_275 [label=&quot;Simplify (true :expansions [int_of_bits; ripple_carry_adder] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_287 -&gt; p_279 [label=&quot;&quot;];
subgraph cluster_280 {
  color=blue;
p_279 [label=&quot;Start (let (_x_0 : bool list) = List.tl a in\l       let (_x_1 : bool list) = List.tl b in\l       let (_x_2 : bool) = List.hd b in\l       let (_x_3 : bool) = List.hd a in\l       let (_x_4 : int) = int_of_bits _x_0 in\l       let (_x_5 : int) = int_of_bits _x_1 in\l       (((((((cin \|\| not (List.length _x_0 = List.length _x_1)) \|\| _x_2)\l            \|\| _x_3 = _x_2)\l           \|\| not _x_3)\l          \|\| not (a \&lt;\&gt; []))\l         \|\| not (b \&lt;\&gt; []))\l        \|\| int_of_bits (ripple_carry_adder a b false) =\l           (1 + 2 * _x_4) + 2 * _x_5)\l       \|\| not (int_of_bits (ripple_carry_adder _x_0 _x_1 cin) = _x_4 + _x_5)\l       :name \&quot;1.2\&quot; :time 0.333s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_279 -&gt; p_278 [label=&quot;&quot;];
p_278 [label=&quot;Simplify (true :expansions [int_of_bits; ripple_carry_adder] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_287 -&gt; p_282 [label=&quot;&quot;];
subgraph cluster_283 {
  color=blue;
p_282 [label=&quot;Start (let (_x_0 : bool list) = List.tl a in\l       let (_x_1 : bool list) = List.tl b in\l       let (_x_2 : bool) = List.hd a in\l       let (_x_3 : int) = int_of_bits _x_0 in\l       let (_x_4 : int) = int_of_bits _x_1 in\l       ((((((not (List.length _x_0 = List.length _x_1) \|\| _x_2)\l            \|\| _x_2 = List.hd b)\l           \|\| not cin)\l          \|\| not (a \&lt;\&gt; []))\l         \|\| not (b \&lt;\&gt; []))\l        \|\| int_of_bits (ripple_carry_adder a b true) =\l           (2 + 2 * _x_3) + 2 * _x_4)\l       \|\| not\l          (int_of_bits (ripple_carry_adder _x_0 _x_1 cin) = (1 + _x_3) + _x_4)\l       :name \&quot;1.3\&quot; :time 0.333s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_282 -&gt; p_281 [label=&quot;&quot;];
p_281 [label=&quot;Simplify (true :expansions [int_of_bits; ripple_carry_adder] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_287 -&gt; p_285 [label=&quot;&quot;];
subgraph cluster_286 {
  color=blue;
p_285 [label=&quot;Start (let (_x_0 : bool list) = List.tl a in\l       let (_x_1 : bool list) = List.tl b in\l       let (_x_2 : bool) = List.hd a in\l       let (_x_3 : int) = int_of_bits _x_0 in\l       let (_x_4 : int) = int_of_bits _x_1 in\l       ((((((cin \|\| not (List.length _x_0 = List.length _x_1)) \|\| _x_2)\l           \|\| _x_2 = List.hd b)\l          \|\| not (a \&lt;\&gt; []))\l         \|\| not (b \&lt;\&gt; []))\l        \|\| int_of_bits (ripple_carry_adder a b false) =\l           (1 + 2 * _x_3) + 2 * _x_4)\l       \|\| not (int_of_bits (ripple_carry_adder _x_0 _x_1 cin) = _x_3 + _x_4)\l       :name \&quot;1.4\&quot; :time 0.333s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_285 -&gt; p_284 [label=&quot;&quot;];
p_284 [label=&quot;Simplify (true :expansions [int_of_bits; ripple_carry_adder] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
p_305 -&gt; p_303 [label=&quot;&quot;];
subgraph cluster_304 {
  color=blue;
p_303 [label=&quot;Start ((not (List.length a = List.length b) \|\| a \&lt;\&gt; [] &amp;&amp; b \&lt;\&gt; [])\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)\l       :name \&quot;2\&quot; :time 2.819s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_303 -&gt; p_302 [label=&quot;&quot;];
p_302 [label=&quot;Simplify (let (_x_0 : bool) = a \&lt;\&gt; [] in\l          let (_x_1 : bool) = 0 = int_of_bits a + int_of_bits b in\l          let (_x_2 : bool) = not (0 = List.length b) in\l          let (_x_3 : bool) = b \&lt;\&gt; [] in\l          let (_x_4 : bool) = not _x_0 in\l          let (_x_5 : bool) = not (List.length a = 0) in\l          let (_x_6 : bool) = not cin in\l          (((((cin \|\| _x_0) \|\| _x_1) \|\| _x_2)\l            &amp;&amp; ((((cin \|\| _x_3) \|\| _x_4) \|\| _x_1) \|\| _x_5))\l           &amp;&amp; (((_x_0 \|\| _x_6) \|\| _x_1) \|\| _x_2))\l          &amp;&amp; ((((_x_3 \|\| _x_6) \|\| _x_4) \|\| _x_1) \|\| _x_5)\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_302 -&gt; p_291 [label=&quot;&quot;];
subgraph cluster_292 {
  color=blue;
p_291 [label=&quot;Start ((((b \&lt;\&gt; [] \|\| not cin) \|\| not (a \&lt;\&gt; []))\l        \|\| 0 = int_of_bits a + int_of_bits b)\l       \|\| not (List.length a = 0) :name \&quot;2.1\&quot; :time 2.618s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_291 -&gt; p_290 [label=&quot;&quot;];
p_290 [label=&quot;Simplify (true :expansions [] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_302 -&gt; p_294 [label=&quot;&quot;];
subgraph cluster_295 {
  color=blue;
p_294 [label=&quot;Start (((a \&lt;\&gt; [] \|\| not cin) \|\| 0 = int_of_bits a + int_of_bits b)\l       \|\| not (0 = List.length b) :name \&quot;2.2\&quot; :time 2.618s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_294 -&gt; p_293 [label=&quot;&quot;];
p_293 [label=&quot;Simplify (true :expansions [int_of_bits; int_of_bits]\l          :rw [List.len_zero_is_empty] :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_302 -&gt; p_297 [label=&quot;&quot;];
subgraph cluster_298 {
  color=blue;
p_297 [label=&quot;Start ((((cin \|\| b \&lt;\&gt; []) \|\| not (a \&lt;\&gt; []))\l        \|\| 0 = int_of_bits a + int_of_bits b)\l       \|\| not (List.length a = 0) :name \&quot;2.3\&quot; :time 2.618s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_297 -&gt; p_296 [label=&quot;&quot;];
p_296 [label=&quot;Simplify (true :expansions [] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_302 -&gt; p_300 [label=&quot;&quot;];
subgraph cluster_301 {
  color=blue;
p_300 [label=&quot;Start (((cin \|\| a \&lt;\&gt; []) \|\| 0 = int_of_bits a + int_of_bits b)\l       \|\| not (0 = List.length b) :name \&quot;2.4\&quot; :time 2.618s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_300 -&gt; p_299 [label=&quot;&quot;];
p_299 [label=&quot;Simplify (true :expansions [int_of_bits; int_of_bits]\l          :rw [List.len_zero_is_empty] :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-34499ee0-b824-4094-a7ef-7522521242e4';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-bdceeff9-2403-4115-b20a-123aad96dc1d';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-9a709b35-26f6-4a3f-97b1-30d13254dc03';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Excellent!</p>
<p>Note that we were able to prove this main theorem without introducing any auxiliary lemmas.</p>
<p>Nevertheless, it's almost always useful to prove local lemmas about our functions.</p>
<p>For example, the following is a very useful property to know about our single-step adder, <code>adder_sum</code>. We'll introduce it as a <code>rewrite</code> rule so that we may use it for an alternative proof of our main theorem.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-29" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">theorem</span> <span class="n">single_adder_circuit_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="n">int_of_bit</span> <span class="o">(</span><span class="n">adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span>
    <span class="o">=</span> <span class="n">int_of_bit</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span> <span class="o">-</span> <span class="o">(</span><span class="mi">2</span> <span class="o">*</span> <span class="o">(</span><span class="n">int_of_bit</span> <span class="o">(</span><span class="n">adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)))</span>
<span class="o">[@@</span><span class="n">rewrite</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[17]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val single_adder_circuit_correct : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-alternatives" id="alt-604171d1-bd4e-496f-b930-749766e8baac"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>proof</a></li><li class="" data-toggle="tab"><a>call graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-d12e62fe-f8b3-461d-bbc5-712ebd4bc444"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-1c90e353-636c-4c94-9197-797f08f32816"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-ad0f152e-b9cd-4831-91fd-01195928f3cf"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.050s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-001ffd35-9dda-4439-8b01-c45261823df1"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-725931ad-57ac-44ec-b451-f6adbfa30cc4"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-f000ec04-2ae8-4bdd-9728-2c3bd53d42e6"><table><tr><td><b>num checks</b></td><td>1</td></tr><tr><td><b>arith-make-feasible</b></td><td>30</td></tr><tr><td><b>arith-max-columns</b></td><td>11</td></tr><tr><td><b>arith-conflicts</b></td><td>16</td></tr><tr><td><b>rlimit count</b></td><td>1679</td></tr><tr><td><b>mk clause</b></td><td>115</td></tr><tr><td><b>mk bool var</b></td><td>140</td></tr><tr><td><b>arith-lower</b></td><td>60</td></tr><tr><td><b>arith-diseq</b></td><td>2</td></tr><tr><td><b>decisions</b></td><td>15</td></tr><tr><td><b>arith-propagations</b></td><td>4</td></tr><tr><td><b>propagations</b></td><td>142</td></tr><tr><td><b>arith-bound-propagations-cheap</b></td><td>4</td></tr><tr><td><b>arith-max-rows</b></td><td>2</td></tr><tr><td><b>conflicts</b></td><td>16</td></tr><tr><td><b>minimized lits</b></td><td>22</td></tr><tr><td><b>added eqs</b></td><td>157</td></tr><tr><td><b>del clause</b></td><td>81</td></tr><tr><td><b>arith eq adapter</b></td><td>59</td></tr><tr><td><b>arith-upper</b></td><td>60</td></tr><tr><td><b>memory</b></td><td>45.990000</td></tr><tr><td><b>max memory</b></td><td>60.190000</td></tr><tr><td><b>num allocs</b></td><td>9666662642.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-001ffd35-9dda-4439-8b01-c45261823df1';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-379ae47b-12d2-4742-9d70-25a4958b6b12"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.050s]
  let (_x_0 : bool) = not (:var_0: = :var_1:) in
  (if not (_x_0 = :var_2:) then 1 else 0) =
  (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
   + (if :var_2: then 1 else 0))
  - (2 * (if _x_0 &amp;&amp; :var_2: || :var_0: &amp;&amp; :var_1: then 1 else 0))</pre></li><li><div><h4>simplify</h4><div class="imandra-table" id="table-926a61fc-65ba-49ca-b198-99f827a833bc"><table><tr><td><b>into</b></td><td><pre>(if (:var_0: = :var_1:) = :var_2: then 1 else 0) =
(((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
 + (if :var_2: then 1 else 0))
+ -2
  * (if :var_0: &amp;&amp; :var_1: || not :var_0: = :var_1: &amp;&amp; :var_2: then 1 else 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li>Unsat</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-379ae47b-12d2-4742-9d70-25a4958b6b12';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-fac564aa-ca7e-402f-8abb-b71b00ba8a71"><textarea style="display: none">digraph &quot;proof&quot; {
p_312 [label=&quot;Start (let (_x_0 : bool) = not (:var_0: = :var_1:) in\l       (if not (_x_0 = :var_2:) then 1 else 0) =\l       (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l        + (if :var_2: then 1 else 0))\l       - (2 * (if _x_0 &amp;&amp; :var_2: \|\| :var_0: &amp;&amp; :var_1: then 1 else 0))\l       :time 0.050s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_312 -&gt; p_311 [label=&quot;&quot;];
p_311 [label=&quot;Simplify ((if (:var_0: = :var_1:) = :var_2: then 1 else 0) =\l          (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l           + (if :var_2: then 1 else 0))\l          + -2\l            * (if :var_0: &amp;&amp; :var_1: \|\| not :var_0: = :var_1: &amp;&amp; :var_2:\l               then 1 else 0)\l          :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_311 -&gt; p_310 [label=&quot;&quot;];
p_310 [label=&quot;Unsat&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-fac564aa-ca7e-402f-8abb-b71b00ba8a71';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-1c90e353-636c-4c94-9197-797f08f32816';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d12e62fe-f8b3-461d-bbc5-712ebd4bc444';
  fold.hydrate(target);
});
</script></div></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-887a7f9c-4c21-4d92-8903-3e13049b504f"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;not\l((if (a = b) = cin then 1 else 0) =\l (((if a then 1 else 0) + (if b then 1 else 0)) + (if cin then 1 else 0))\l + -2 * (if a &amp;&amp; b \|\| not a = b &amp;&amp; cin then 1 else 0))&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-887a7f9c-4c21-4d92-8903-3e13049b504f';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-604171d1-bd4e-496f-b930-749766e8baac';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="color:yellow" class="imandra-warn"><h4 style="color:yellow" class="imandra-warn">Warning</h4><pre>Pattern will match only if `int_of_bit` is disabled
(non-recursive function)
See https://docs.imandra.ai/imandra-docs/notebooks/verification-simplification</pre></div></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="color:yellow" class="imandra-warn"><h4 style="color:yellow" class="imandra-warn">Warning</h4><pre>Pattern will match only if `adder_sum` is disabled
(non-recursive function)
See https://docs.imandra.ai/imandra-docs/notebooks/verification-simplification</pre></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Notice the above <code>Warnings</code>, in particular about <code>int_of_bit</code> and <code>adder_sum</code>. These are printed because we've specified Imandra to install this theorem as a <code>rewrite</code> rule, and the LHS (left-hand-side) of the rule contains non-recursive functions which will, unless they are disabled, be expanded before rewriting can be applied.</p>
<p>Can you see an alternative proof of our main theorem which makes use of this rule? We just need to follow the advice of the warning!</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-31" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">theorem</span> <span class="n">full_ripple_carry_adder_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">b</span> <span class="o">==&gt;</span>
  <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span> <span class="o">=</span>
  <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span>
<span class="o">[@@</span><span class="n">induct</span> <span class="n">functional</span> <span class="n">ripple_carry_adder</span><span class="o">]</span>
<span class="o">[@@</span><span class="n">disable</span> <span class="n">adder_sum</span><span class="o">,</span> <span class="n">int_of_bit</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[18]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val full_ripple_carry_adder_correct : bool list -&gt; bool list -&gt; bool -&gt; bool =
  &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

List.length a = List.length b
==&gt; int_of_bits (ripple_carry_adder a b cin) =
    (int_of_bits a + int_of_bits b) + int_of_bit cin.

1 nontautological subgoal.

We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">ripple_carry_adder</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (not (a &lt;&gt; [] &amp;&amp; b &lt;&gt; []) ==&gt; Ï† a b cin)
 &amp;&amp; ((a &lt;&gt; [] &amp;&amp; b &lt;&gt; [])
     &amp;&amp; Ï† (List.tl a) (List.tl b)
        (adder_carry_out (List.hd a) (List.hd b) cin)
     ==&gt; Ï† a b cin).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. a &lt;&gt; [] &amp;&amp; b &lt;&gt; []
 C1. int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length</span>,<span class="ansi-blue-intense-fg ansi-bold"> int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold">
ripple_carry_adder</span> to the following 4 subgoals:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.4</span>:

 H0. 0 = List.length b
|---------------------------------------------------------------------------
 C0. cin
 C1. a &lt;&gt; []
 C2. 0 = (int_of_bits a + int_of_bits b) + int_of_bit cin

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits</span>, and the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.4&#39;</span>:

 H0. b = []
|---------------------------------------------------------------------------
 C0. cin
 C1. a &lt;&gt; []
 C2. 0 = int_of_bit false

This simplifies to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.4&#39;&#39;</span>:

|---------------------------------------------------------------------------
 C0. cin
 C1. a &lt;&gt; []
 C2. 0 = int_of_bit false

But we verify Subgoal 2.4&#39;&#39; by recursive unrolling.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.3</span>:

 H0. a &lt;&gt; []
 H1. List.length a = 0
|---------------------------------------------------------------------------
 C0. cin
 C1. b &lt;&gt; []
 C2. 0 = (int_of_bits a + int_of_bits b) + int_of_bit cin

But simplification reduces this to true, using the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.2</span>:

 H0. cin
 H1. 0 = List.length b
|---------------------------------------------------------------------------
 C0. a &lt;&gt; []
 C1. int_of_bit true = (int_of_bits a + int_of_bits b) + int_of_bit cin

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits</span>,
and the rewrite rule <span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.1</span>:

 H0. a &lt;&gt; []
 H1. cin
 H2. List.length a = 0
|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. int_of_bit true = (int_of_bits a + int_of_bits b) + int_of_bit cin

But simplification reduces this to true, using the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. List.length a = List.length b
 H1. a &lt;&gt; []
 H2. b &lt;&gt; []
 H3. List.length (List.tl a) = List.length (List.tl b)
     ==&gt; int_of_bits
         (ripple_carry_adder (List.tl a) (List.tl b)
          (List.hd a &amp;&amp; List.hd b || not (List.hd a) = List.hd b &amp;&amp; cin))
         =
         (int_of_bits (List.tl a) + int_of_bits (List.tl b))
         + int_of_bit
           (List.hd a &amp;&amp; List.hd b || not (List.hd a) = List.hd b &amp;&amp; cin)
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b cin) =
 (int_of_bits a + int_of_bits b) + int_of_bit cin

But simplification reduces this to true, using the definitions of
<span class="ansi-blue-intense-fg ansi-bold">List.length</span>,<span class="ansi-blue-intense-fg ansi-bold"> int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>, and the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">single_adder_circuit_correct</span>.

<span class="ansi-cyan-intense-fg ansi-bold"> â“˜ </span> Rules:
    (:def List.length)
    (:def int_of_bits)
    (:def ripple_carry_adder)
    (:rw List.len_zero_is_empty)
    (:rw single_adder_circuit_correct)
    (:fc List.len_nonnegative)
    (:induct ripple_carry_adder)

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-33a9e787-2032-4e9f-a287-c6e8fb9d7aa6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-87ae950f-4ee0-4a6b-bb7c-451d8f927785"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-86aa81f2-1e74-47d8-9dcb-3f2d264e7518"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>39</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>1.270s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-e360ee89-1768-4271-85eb-cd4cb9fd95a6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-cbd246a7-7c06-4152-922b-879b5be592a0"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-e60d93a8-e3c6-4825-9d64-c168b00b4709"><table><tr><td><b>rlimit count</b></td><td>16686</td></tr><tr><td><b>mk bool var</b></td><td>1</td></tr><tr><td><b>memory</b></td><td>69.020000</td></tr><tr><td><b>max memory</b></td><td>69.020000</td></tr><tr><td><b>num allocs</b></td><td>12047954882.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e360ee89-1768-4271-85eb-cd4cb9fd95a6';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-bca61055-9048-4bbc-88ef-743253e99b4d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.270s, &quot;Goal&quot;]
  List.length :var_0: = List.length :var_1:
  ==&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =
      (int_of_bits :var_0: + int_of_bits :var_1:) + int_of_bit :var_2:</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-8f3678f8-9077-45c8-bfd5-94eddee36bc8"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (List.length a = List.length b)
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.269s, &quot;1&quot;]
  not (List.length a = List.length b)
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><pre>induction on (functional ripple_carry_adder)
:scheme (not (a &lt;&gt; [] &amp;&amp; b &lt;&gt; []) ==&gt; Ï† a b cin)
        &amp;&amp; ((a &lt;&gt; [] &amp;&amp; b &lt;&gt; [])
            &amp;&amp; Ï† (List.tl a) (List.tl b)
               (adder_carry_out (List.hd a) (List.hd b) cin)
            ==&gt; Ï† a b cin)</pre></li><li><div><pre>Split (let (_x_0 : bool) = a &lt;&gt; [] &amp;&amp; b &lt;&gt; [] in
       let (_x_1 : bool) = not (List.length a = List.length b) in
       let (_x_2 : bool)
           = int_of_bits (ripple_carry_adder a b cin) =
             (int_of_bits a + int_of_bits b) + int_of_bit cin
       in
       let (_x_3 : bool list) = List.tl a in
       let (_x_4 : bool list) = List.tl b in
       let (_x_5 : bool) = List.hd a in
       let (_x_6 : bool) = List.hd b in
       let (_x_7 : bool) = _x_5 &amp;&amp; _x_6 || not _x_5 = _x_6 &amp;&amp; cin in
       ((_x_0 || _x_1) || _x_2)
       &amp;&amp; ((_x_1 || _x_2)
           || not
              (_x_0
               &amp;&amp; (not (List.length _x_3 = List.length _x_4)
                   || int_of_bits (ripple_carry_adder _x_3 _x_4 _x_7) =
                      (int_of_bits _x_3 + int_of_bits _x_4) + int_of_bit _x_7)))
       :cases [(not (List.length a = List.length b) || a &lt;&gt; [] &amp;&amp; b &lt;&gt; [])
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + int_of_bit cin;
               let (_x_0 : bool list) = List.tl a in
               let (_x_1 : bool list) = List.tl b in
               let (_x_2 : bool) = List.hd a in
               let (_x_3 : bool) = List.hd b in
               let (_x_4 : bool) = _x_2 &amp;&amp; _x_3 || not _x_2 = _x_3 &amp;&amp; cin in
               (((not (List.length a = List.length b) || not (a &lt;&gt; []))
                 || not (b &lt;&gt; []))
                || not
                   (List.length _x_0 = List.length _x_1
                    ==&gt; int_of_bits (ripple_carry_adder _x_0 _x_1 _x_4) =
                        (int_of_bits _x_0 + int_of_bits _x_1)
                        + int_of_bit _x_4))
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + int_of_bit cin])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-56ccd083-943b-4353-9061-8b1c48344b8d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>let (_x_0 : bool list) = List.tl a in
let (_x_1 : bool list) = List.tl b in
let (_x_2 : bool) = List.hd a in
let (_x_3 : bool) = List.hd b in
let (_x_4 : bool) = _x_2 &amp;&amp; _x_3 || not _x_2 = _x_3 &amp;&amp; cin in
(((not (List.length a = List.length b) || not (a &lt;&gt; [])) || not (b &lt;&gt; []))
 || not
    (List.length _x_0 = List.length _x_1
     ==&gt; int_of_bits (ripple_carry_adder _x_0 _x_1 _x_4) =
         (int_of_bits _x_0 + int_of_bits _x_1) + int_of_bit _x_4))
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.268s, &quot;1&quot;]
  let (_x_0 : bool list) = List.tl a in
  let (_x_1 : bool list) = List.tl b in
  let (_x_2 : bool) = List.hd a in
  let (_x_3 : bool) = List.hd b in
  let (_x_4 : bool) = _x_2 &amp;&amp; _x_3 || not _x_2 = _x_3 &amp;&amp; cin in
  (((not (List.length a = List.length b) || not (a &lt;&gt; [])) || not (b &lt;&gt; []))
   || not
      (List.length _x_0 = List.length _x_1
       ==&gt; int_of_bits (ripple_carry_adder _x_0 _x_1 _x_4) =
           (int_of_bits _x_0 + int_of_bits _x_1) + int_of_bit _x_4))
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-209014c5-61d6-47be-9f11-3b5b2ac14f29"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, List.length, List.length,
 List.length, List.length, List.length, int_of_bits, int_of_bits,
 int_of_bits, ripple_carry_adder, int_of_bits, int_of_bits, int_of_bits,
 ripple_carry_adder, int_of_bits, int_of_bits, int_of_bits,
 ripple_carry_adder, int_of_bits, int_of_bits, int_of_bits,
 ripple_carry_adder, int_of_bits, int_of_bits, int_of_bits,
 ripple_carry_adder]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-56ccd083-943b-4353-9061-8b1c48344b8d';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-95207570-3708-409a-8ba8-38c32a731d45"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (List.length a = List.length b) || a &lt;&gt; [] &amp;&amp; b &lt;&gt; [])
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.268s, &quot;2&quot;]
  (not (List.length a = List.length b) || a &lt;&gt; [] &amp;&amp; b &lt;&gt; [])
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><div><div><h6>simplify</h6><div class="imandra-table" id="table-f04092bf-a64b-41ee-b6e1-67fe3278d891"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : bool) = a &lt;&gt; [] in
let (_x_1 : int) = (int_of_bits a + int_of_bits b) + int_of_bit cin in
let (_x_2 : bool) = 0 = _x_1 in
let (_x_3 : bool) = not (0 = List.length b) in
let (_x_4 : bool) = b &lt;&gt; [] in
let (_x_5 : bool) = not _x_0 in
let (_x_6 : bool) = not (List.length a = 0) in
let (_x_7 : bool) = not cin in
let (_x_8 : bool) = int_of_bit true = _x_1 in
(((((cin || _x_0) || _x_2) || _x_3)
  &amp;&amp; ((((cin || _x_4) || _x_5) || _x_2) || _x_6))
 &amp;&amp; (((_x_0 || _x_7) || _x_8) || _x_3))
&amp;&amp; ((((_x_4 || _x_5) || _x_7) || _x_8) || _x_6)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, List.length, int_of_bits,
 int_of_bits, ripple_carry_adder]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div><ul><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-95207570-3708-409a-8ba8-38c32a731d45';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-8f3678f8-9077-45c8-bfd5-94eddee36bc8';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bca61055-9048-4bbc-88ef-743253e99b4d';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-a4c1d74c-c742-40e3-9e17-0f9feb12acf9"><textarea style="display: none">digraph &quot;proof&quot; {
p_340 [label=&quot;Start (List.length :var_0: = List.length :var_1:\l       ==\&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =\l           (int_of_bits :var_0: + int_of_bits :var_1:) + int_of_bit :var_2:\l       :name \&quot;Goal\&quot; :time 1.270s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_340 -&gt; p_338 [label=&quot;&quot;];
subgraph cluster_339 {
  color=blue;
p_338 [label=&quot;Start (not (List.length a = List.length b)\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;1\&quot; :time 1.269s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_338 -&gt; p_337 [label=&quot;&quot;];
p_337 [label=&quot;Induct ((functional ripple_carry_adder),\l        :scheme (not (a \&lt;\&gt; [] &amp;&amp; b \&lt;\&gt; []) ==\&gt; Ï† a b cin)\l                &amp;&amp; ((a \&lt;\&gt; [] &amp;&amp; b \&lt;\&gt; [])\l                    &amp;&amp; Ï† (List.tl a) (List.tl b)\l                       (adder_carry_out (List.hd a) (List.hd b) cin)\l                    ==\&gt; Ï† a b cin))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_337 -&gt; p_336 [label=&quot;&quot;];
p_336 [label=&quot;Split (let (_x_0 : bool) = a \&lt;\&gt; [] &amp;&amp; b \&lt;\&gt; [] in\l       let (_x_1 : bool) = not (List.length a = List.length b) in\l       let (_x_2 : bool)\l           = int_of_bits (ripple_carry_adder a b cin) =\l             (int_of_bits a + int_of_bits b) + int_of_bit cin\l       in\l       let (_x_3 : bool list) = List.tl a in\l       let (_x_4 : bool list) = List.tl b in\l       let (_x_5 : bool) = List.hd a in\l       let (_x_6 : bool) = List.hd b in\l       let (_x_7 : bool) = _x_5 &amp;&amp; _x_6 \|\| not _x_5 = _x_6 &amp;&amp; cin in\l       ((_x_0 \|\| _x_1) \|\| _x_2)\l       &amp;&amp; ((_x_1 \|\| _x_2)\l           \|\| not\l              (_x_0\l               &amp;&amp; (not (List.length _x_3 = List.length _x_4)\l                   \|\| int_of_bits (ripple_carry_adder _x_3 _x_4 _x_7) =\l                      (int_of_bits _x_3 + int_of_bits _x_4) + int_of_bit _x_7)))\l       :cases [(not (List.length a = List.length b) \|\| a \&lt;\&gt; [] &amp;&amp; b \&lt;\&gt; [])\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + int_of_bit cin;\l               let (_x_0 : bool list) = List.tl a in\l               let (_x_1 : bool list) = List.tl b in\l               let (_x_2 : bool) = List.hd a in\l               let (_x_3 : bool) = List.hd b in\l               let (_x_4 : bool) = _x_2 &amp;&amp; _x_3 \|\| not _x_2 = _x_3 &amp;&amp; cin in\l               (((not (List.length a = List.length b) \|\| not (a \&lt;\&gt; []))\l                 \|\| not (b \&lt;\&gt; []))\l                \|\| not\l                   (List.length _x_0 = List.length _x_1\l                    ==\&gt; int_of_bits (ripple_carry_adder _x_0 _x_1 _x_4) =\l                        (int_of_bits _x_0 + int_of_bits _x_1)\l                        + int_of_bit _x_4))\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + int_of_bit cin])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_336 -&gt; p_317 [label=&quot;&quot;];
subgraph cluster_318 {
  color=blue;
p_317 [label=&quot;Start (let (_x_0 : bool list) = List.tl a in\l       let (_x_1 : bool list) = List.tl b in\l       let (_x_2 : bool) = List.hd a in\l       let (_x_3 : bool) = List.hd b in\l       let (_x_4 : bool) = _x_2 &amp;&amp; _x_3 \|\| not _x_2 = _x_3 &amp;&amp; cin in\l       (((not (List.length a = List.length b) \|\| not (a \&lt;\&gt; []))\l         \|\| not (b \&lt;\&gt; []))\l        \|\| not\l           (List.length _x_0 = List.length _x_1\l            ==\&gt; int_of_bits (ripple_carry_adder _x_0 _x_1 _x_4) =\l                (int_of_bits _x_0 + int_of_bits _x_1) + int_of_bit _x_4))\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;1\&quot; :time 1.268s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_317 -&gt; p_316 [label=&quot;&quot;];
p_316 [label=&quot;Simplify (true\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder]\l          :rw [single_adder_circuit_correct;\l               single_adder_circuit_correct;\l               single_adder_circuit_correct;\l               single_adder_circuit_correct;\l               single_adder_circuit_correct]\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_336 -&gt; p_334 [label=&quot;&quot;];
subgraph cluster_335 {
  color=blue;
p_334 [label=&quot;Start ((not (List.length a = List.length b) \|\| a \&lt;\&gt; [] &amp;&amp; b \&lt;\&gt; [])\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;2\&quot; :time 1.268s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_334 -&gt; p_333 [label=&quot;&quot;];
p_333 [label=&quot;Simplify (let (_x_0 : bool) = a \&lt;\&gt; [] in\l          let (_x_1 : int) = (int_of_bits a + int_of_bits b) + int_of_bit cin\l          in\l          let (_x_2 : bool) = 0 = _x_1 in\l          let (_x_3 : bool) = not (0 = List.length b) in\l          let (_x_4 : bool) = b \&lt;\&gt; [] in\l          let (_x_5 : bool) = not _x_0 in\l          let (_x_6 : bool) = not (List.length a = 0) in\l          let (_x_7 : bool) = not cin in\l          let (_x_8 : bool) = int_of_bit true = _x_1 in\l          (((((cin \|\| _x_0) \|\| _x_2) \|\| _x_3)\l            &amp;&amp; ((((cin \|\| _x_4) \|\| _x_5) \|\| _x_2) \|\| _x_6))\l           &amp;&amp; (((_x_0 \|\| _x_7) \|\| _x_8) \|\| _x_3))\l          &amp;&amp; ((((_x_4 \|\| _x_5) \|\| _x_7) \|\| _x_8) \|\| _x_6)\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_333 -&gt; p_320 [label=&quot;&quot;];
subgraph cluster_321 {
  color=blue;
p_320 [label=&quot;Start ((((b \&lt;\&gt; [] \|\| not (a \&lt;\&gt; [])) \|\| not cin)\l        \|\| int_of_bit true = (int_of_bits a + int_of_bits b) + int_of_bit cin)\l       \|\| not (List.length a = 0) :name \&quot;2.1\&quot; :time 1.110s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_320 -&gt; p_319 [label=&quot;&quot;];
p_319 [label=&quot;Simplify (true :expansions [] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_333 -&gt; p_323 [label=&quot;&quot;];
subgraph cluster_324 {
  color=blue;
p_323 [label=&quot;Start (((a \&lt;\&gt; [] \|\| not cin)\l        \|\| int_of_bit true = (int_of_bits a + int_of_bits b) + int_of_bit cin)\l       \|\| not (0 = List.length b) :name \&quot;2.2\&quot; :time 1.110s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_323 -&gt; p_322 [label=&quot;&quot;];
p_322 [label=&quot;Simplify (true :expansions [int_of_bits; int_of_bits]\l          :rw [List.len_zero_is_empty] :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_333 -&gt; p_326 [label=&quot;&quot;];
subgraph cluster_327 {
  color=blue;
p_326 [label=&quot;Start ((((cin \|\| b \&lt;\&gt; []) \|\| not (a \&lt;\&gt; []))\l        \|\| 0 = (int_of_bits a + int_of_bits b) + int_of_bit cin)\l       \|\| not (List.length a = 0) :name \&quot;2.3\&quot; :time 1.110s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_326 -&gt; p_325 [label=&quot;&quot;];
p_325 [label=&quot;Simplify (true :expansions [] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_333 -&gt; p_331 [label=&quot;&quot;];
subgraph cluster_332 {
  color=blue;
p_331 [label=&quot;Start (((cin \|\| a \&lt;\&gt; [])\l        \|\| 0 = (int_of_bits a + int_of_bits b) + int_of_bit cin)\l       \|\| not (0 = List.length b) :name \&quot;2.4\&quot; :time 1.111s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_331 -&gt; p_330 [label=&quot;&quot;];
p_330 [label=&quot;Simplify (((cin \|\| a \&lt;\&gt; []) \|\| not (b = [])) \|\| 0 = int_of_bit false\l          :expansions [int_of_bits; int_of_bits] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_330 -&gt; p_329 [label=&quot;&quot;];
p_329 [label=&quot;Simplify ((cin \|\| a \&lt;\&gt; []) \|\| 0 = int_of_bit false :expansions [] :rw []\l          :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_329 -&gt; p_315 [label=&quot;&quot;];
subgraph cluster_328 {
  color=blue;
p_315 [label=&quot;Start ((:var_3: \|\| :var_0: \&lt;\&gt; []) \|\| 0 = 0 :time 0.035s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_315 -&gt; p_314 [label=&quot;&quot;];
p_314 [label=&quot;Simplify (true :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_314 -&gt; p_313 [label=&quot;&quot;];
p_313 [label=&quot;Unsat&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-a4c1d74c-c742-40e3-9e17-0f9feb12acf9';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-87ae950f-4ee0-4a6b-bb7c-451d8f927785';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-33a9e787-2032-4e9f-a287-c6e8fb9d7aa6';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If we inspect the proof, we'll find that our rewrite rule <code>single_adder_circuit_correct</code> was used to close our key subgoal under our induction. Beautiful!</p>
<h1 id="Examining-a-flawed-circuit-with-Imandra">Examining a flawed circuit with Imandra<a class="anchor-link" href="#Examining-a-flawed-circuit-with-Imandra">&#182;</a></h1><p>Now that we've verified our adder, let's imagine we'd instead designed a flawed version of our circut and use Imandra to analyse it.</p>
<p>Can you spot the error?</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-33" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">bad_adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="n">not</span> <span class="o">((</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">||</span> <span class="n">cin</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[19]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val bad_adder_sum : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-34" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">bad_adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="o">((</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">cin</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">a</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[20]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val bad_adder_carry_out : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-35" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">-&gt;</span>
 <span class="n">int_of_bit</span> <span class="o">(</span><span class="n">bad_adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span>
    <span class="o">=</span> <span class="n">int_of_bit</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span> <span class="o">-</span> <span class="o">(</span><span class="mi">2</span> <span class="o">*</span> <span class="o">(</span><span class="n">int_of_bit</span> <span class="o">(</span><span class="n">bad_adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">))))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[21]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
module CX : sig val a : bool val b : bool val cin : bool end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Counterexample (after 0 steps, 0.022s):
 let (a : bool) = false
 let (b : bool) = false
 let (cin : bool) = false
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px dashed #D84315; border-bottom: 1px dashed #D84315"><i class="fa fa-times-circle-o" style="margin-right: 0.5em; color: #D84315"></i><span>Refuted</span></div><div><div class="imandra-alternatives" id="alt-f80ddf94-57f9-43c6-8aa1-706da68b72c9"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-b2f4a515-7286-4ddc-a8c5-4365930e8c48"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;let (_x_0 : bool) = not a = b in\lnot\l((if _x_0 \|\| cin then 0 else 1) =\l (((if a then 1 else 0) + (if b then 1 else 0)) + (if cin then 1 else 0))\l + -2 * (if a &amp;&amp; b \|\| _x_0 &amp;&amp; cin then 1 else 0))&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-b2f4a515-7286-4ddc-a8c5-4365930e8c48';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-bf911c6a-c24e-43b3-8c37-7ddc5e8c24fc"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-767fd51e-d7c4-46ce-829a-7c5529c39c87"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-bde5948a-3fd6-4948-9c26-1f987cc52a5c"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.022s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-fe87d122-14e1-4ada-b1d7-0d447d5750e1"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-1d006f5d-5115-4457-8fc6-ae3993a33f85"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-eaf9ffb0-89ac-4ff1-a1d2-20f4d094e7e4"><table><tr><td><b>num checks</b></td><td>1</td></tr><tr><td><b>arith-make-feasible</b></td><td>13</td></tr><tr><td><b>arith-max-columns</b></td><td>11</td></tr><tr><td><b>arith-conflicts</b></td><td>6</td></tr><tr><td><b>rlimit count</b></td><td>1215</td></tr><tr><td><b>mk clause</b></td><td>88</td></tr><tr><td><b>mk bool var</b></td><td>82</td></tr><tr><td><b>arith-lower</b></td><td>29</td></tr><tr><td><b>arith-diseq</b></td><td>2</td></tr><tr><td><b>decisions</b></td><td>13</td></tr><tr><td><b>arith-propagations</b></td><td>5</td></tr><tr><td><b>propagations</b></td><td>72</td></tr><tr><td><b>arith-bound-propagations-cheap</b></td><td>5</td></tr><tr><td><b>arith-max-rows</b></td><td>2</td></tr><tr><td><b>conflicts</b></td><td>6</td></tr><tr><td><b>minimized lits</b></td><td>3</td></tr><tr><td><b>final checks</b></td><td>1</td></tr><tr><td><b>added eqs</b></td><td>75</td></tr><tr><td><b>del clause</b></td><td>32</td></tr><tr><td><b>arith eq adapter</b></td><td>28</td></tr><tr><td><b>arith-upper</b></td><td>27</td></tr><tr><td><b>memory</b></td><td>53.360000</td></tr><tr><td><b>max memory</b></td><td>77.690000</td></tr><tr><td><b>num allocs</b></td><td>19889403502.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-fe87d122-14e1-4ada-b1d7-0d447d5750e1';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-8ec0cbb3-6a50-4fef-b9ad-54e2864648a9"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.022s]
  let (_x_0 : bool) = not (:var_0: = :var_1:) in
  (if not (_x_0 || :var_2:) then 1 else 0) =
  (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
   + (if :var_2: then 1 else 0))
  - (2 * (if _x_0 &amp;&amp; :var_2: || :var_0: &amp;&amp; :var_1: then 1 else 0))</pre></li><li><div><h4>simplify</h4><div class="imandra-table" id="table-1cc58e17-b4d6-45ab-b687-d5a46670c94c"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : bool) = not :var_0: = :var_1: in
(if _x_0 || :var_2: then 0 else 1) =
(((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
 + (if :var_2: then 1 else 0))
+ -2 * (if :var_0: &amp;&amp; :var_1: || _x_0 &amp;&amp; :var_2: then 1 else 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li>Sat (Some  let (a : bool) = false
 let (b : bool) = false
 let (cin : bool) = false
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-8ec0cbb3-6a50-4fef-b9ad-54e2864648a9';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-2f0b798c-39a1-44e5-adae-b5065ce87178"><textarea style="display: none">digraph &quot;proof&quot; {
p_343 [label=&quot;Start (let (_x_0 : bool) = not (:var_0: = :var_1:) in\l       (if not (_x_0 \|\| :var_2:) then 1 else 0) =\l       (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l        + (if :var_2: then 1 else 0))\l       - (2 * (if _x_0 &amp;&amp; :var_2: \|\| :var_0: &amp;&amp; :var_1: then 1 else 0))\l       :time 0.022s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_343 -&gt; p_342 [label=&quot;&quot;];
p_342 [label=&quot;Simplify (let (_x_0 : bool) = not :var_0: = :var_1: in\l          (if _x_0 \|\| :var_2: then 0 else 1) =\l          (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l           + (if :var_2: then 1 else 0))\l          + -2 * (if :var_0: &amp;&amp; :var_1: \|\| _x_0 &amp;&amp; :var_2: then 1 else 0)\l          :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_342 -&gt; p_341 [label=&quot;&quot;];
p_341 [label=&quot;Sat (Some  let (a : bool) = false\l let (b : bool) = false\l let (cin : bool) = false\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-2f0b798c-39a1-44e5-adae-b5065ce87178';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-767fd51e-d7c4-46ce-829a-7c5529c39c87';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bf911c6a-c24e-43b3-8c37-7ddc5e8c24fc';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-f80ddf94-57f9-43c6-8aa1-706da68b72c9';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-36" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">bad_ripple_carry_adder</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">cin</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span> <span class="k">with</span>
  <span class="o">|</span> <span class="n">a1</span> <span class="o">::</span> <span class="n">a&#39;</span><span class="o">,</span> <span class="n">b1</span> <span class="o">::</span> <span class="n">b&#39;</span> <span class="o">-&gt;</span>
    <span class="n">bad_adder_sum</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span> <span class="o">::</span>
    <span class="n">bad_ripple_carry_adder</span> <span class="n">a&#39;</span> <span class="n">b&#39;</span> <span class="o">(</span><span class="n">bad_adder_carry_out</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span><span class="o">)</span>
  <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="k">if</span> <span class="n">cin</span> <span class="k">then</span> <span class="o">[</span><span class="n">cin</span><span class="o">]</span> <span class="k">else</span> <span class="bp">[]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[22]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val bad_ripple_carry_adder : bool list -&gt; bool list -&gt; bool -&gt; bool list =
  &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-3c8a8ee2-a14d-4fa1-960a-f01f093e9a59"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-498e9bc3-6a6c-4146-a088-25e6e7cc727d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `bad_ripple_carry_adder (List.tl a) (List.tl b)
(bad_adder_carry_out (List.hd a) (List.hd b) cin)` from `bad_ripple_carry_adder a b cin`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-5a187c03-be8c-42cb-a852-6317adb3720f"><table><tr><td><b>original</b></td><td>bad_ripple_carry_adder a b cin</td></tr><tr><td><b>sub</b></td><td>bad_ripple_carry_adder (List.tl a) (List.tl b)
(bad_adder_carry_out (List.hd a) (List.hd b) cin)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count a)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl a))</td></tr><tr><td><b>path</b></td><td>[a &lt;&gt; [] &amp;&amp; b &lt;&gt; []]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-56c789c7-1d67-4ead-8a2f-a2c335856407"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-9c9d1e13-ff5e-4bdc-a5eb-23a415ff108d"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-4094f286-63fe-44ac-a62d-32940f1d0051"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.013s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-eb4ea812-d0f3-4b80-be72-5bde43ff5af7"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-78f05cdb-0c30-4c2f-8a87-f96d1251590f"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-6328d424-c524-46d1-9952-cf89374662e3"><table><tr><td><b>num checks</b></td><td>7</td></tr><tr><td><b>arith-make-feasible</b></td><td>7</td></tr><tr><td><b>arith-max-columns</b></td><td>13</td></tr><tr><td><b>arith-conflicts</b></td><td>1</td></tr><tr><td><b>rlimit count</b></td><td>2225</td></tr><tr><td><b>mk clause</b></td><td>29</td></tr><tr><td><b>datatype occurs check</b></td><td>26</td></tr><tr><td><b>mk bool var</b></td><td>76</td></tr><tr><td><b>arith-lower</b></td><td>4</td></tr><tr><td><b>datatype splits</b></td><td>6</td></tr><tr><td><b>decisions</b></td><td>30</td></tr><tr><td><b>propagations</b></td><td>28</td></tr><tr><td><b>arith-max-rows</b></td><td>5</td></tr><tr><td><b>conflicts</b></td><td>8</td></tr><tr><td><b>datatype accessor ax</b></td><td>9</td></tr><tr><td><b>datatype constructor ax</b></td><td>14</td></tr><tr><td><b>final checks</b></td><td>6</td></tr><tr><td><b>added eqs</b></td><td>84</td></tr><tr><td><b>del clause</b></td><td>14</td></tr><tr><td><b>arith eq adapter</b></td><td>5</td></tr><tr><td><b>arith-upper</b></td><td>6</td></tr><tr><td><b>memory</b></td><td>56.080000</td></tr><tr><td><b>max memory</b></td><td>77.690000</td></tr><tr><td><b>num allocs</b></td><td>19999595323.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-eb4ea812-d0f3-4b80-be72-5bde43ff5af7';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-43a02523-23c1-4d42-8777-2e080870ec28"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.013s]
  let (_x_0 : int) = Ordinal.count a in
  let (_x_1 : bool list) = List.tl a in
  let (_x_2 : int) = Ordinal.count _x_1 in
  (a &lt;&gt; [] &amp;&amp; b &lt;&gt; []) &amp;&amp; _x_0 &gt;= 0 &amp;&amp; _x_2 &gt;= 0
  ==&gt; not (_x_1 &lt;&gt; [] &amp;&amp; (List.tl b) &lt;&gt; [])
      || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_2) (Ordinal.Int _x_0)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-d8f5b2fa-9774-4d3c-84bb-da975dc227e4"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : bool list) = List.tl a in
let (_x_1 : int) = Ordinal.count _x_0 in
let (_x_2 : int) = Ordinal.count a in
(not (_x_0 &lt;&gt; [] &amp;&amp; (List.tl b) &lt;&gt; [])
 || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_1) (Ordinal.Int _x_2))
|| not (((a &lt;&gt; [] &amp;&amp; b &lt;&gt; []) &amp;&amp; _x_2 &gt;= 0) &amp;&amp; _x_1 &gt;= 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-be74c860-9c5d-4ddc-9c4d-0ccb90918846"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_4338| a_4325)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-3e817f20-0d00-4cdd-aaca-9420df2f9c9a"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_4338| (|get.::.1_4324| a_4325))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-976dc475-92aa-4385-b317-20459037096c"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_102| (|Ordinal.Int_93| (|count_`bool list`_4338|
                                      â€¦</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Unsat</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-43a02523-23c1-4d42-8777-2e080870ec28';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-9c9d1e13-ff5e-4bdc-a5eb-23a415ff108d';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-56c789c7-1d67-4ead-8a2f-a2c335856407';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-498e9bc3-6a6c-4146-a088-25e6e7cc727d';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-3c8a8ee2-a14d-4fa1-960a-f01f093e9a59';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-37" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">instance</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">bad_ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">false</span><span class="o">)</span> <span class="o">&lt;&gt;</span> <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[23]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list -&gt; bool list -&gt; bool = &lt;fun&gt;
module CX : sig val a : bool list val b : bool list end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Instance (after 5 steps, 0.021s):
 let (a : bool list) = []
 let (b : bool list) = [true]
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Instance</span></div><div><div class="imandra-alternatives" id="alt-0c49e1e1-7cdf-43ac-a16f-35855fa50281"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-1484f743-149c-48b9-ac13-b3649b618f45"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;not\l(int_of_bits (bad_ripple_carry_adder a b false) =\l int_of_bits a + int_of_bits b)&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_16 [label=&quot;calls&quot;];
goal -&gt; call_19 [label=&quot;calls&quot;];
goal -&gt; call_18 [label=&quot;calls&quot;];
goal -&gt; call_17 [label=&quot;calls&quot;];
call_16 [label=&quot;bad_ripple_carry_adder a b false&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_16 -&gt; call_312 [label=&quot;calls&quot;];
call_19 [label=&quot;int_of_bits b&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_19 -&gt; call_121 [label=&quot;calls&quot;];
call_18 [label=&quot;int_of_bits a&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_18 -&gt; call_178 [label=&quot;calls&quot;];
call_17 [label=&quot;int_of_bits (bad_ripple_carry_adder a b false)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_17 -&gt; call_539 [label=&quot;calls&quot;];
call_312 [label=&quot;bad_ripple_carry_adder (List.tl a) (List.tl b) (List.hd a &amp;&amp; List.hd b)&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_121 [label=&quot;int_of_bits (List.tl b)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_121 -&gt; call_599 [label=&quot;calls&quot;];
call_178 [label=&quot;int_of_bits (List.tl a)&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_539 [label=&quot;int_of_bits (List.tl (bad_ripple_carry_adder a b false))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_599 [label=&quot;int_of_bits (List.tl (List.tl b))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-1484f743-149c-48b9-ac13-b3649b618f45';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-0fd6abd2-1952-43bd-8904-8278ce5cff1f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-4af1b4d8-45ee-45d2-a309-2bc1d27c812b"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-62b6d3d1-482f-41f2-9fba-c05978415605"><table><tr><td><b>ground_instances</b></td><td>5</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.021s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-b7e18b56-c9ec-43af-b9a5-cf9424317949"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-b4f9a564-ca86-44a8-8613-436123416103"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-088cd1e6-2dbf-4ae9-8abc-e6e9d5db2db4"><table><tr><td><b>num checks</b></td><td>11</td></tr><tr><td><b>arith-make-feasible</b></td><td>52</td></tr><tr><td><b>arith-max-columns</b></td><td>26</td></tr><tr><td><b>arith-conflicts</b></td><td>1</td></tr><tr><td><b>rlimit count</b></td><td>6764</td></tr><tr><td><b>arith-gcd-calls</b></td><td>2</td></tr><tr><td><b>arith-cheap-eqs</b></td><td>28</td></tr><tr><td><b>mk clause</b></td><td>242</td></tr><tr><td><b>datatype occurs check</b></td><td>161</td></tr><tr><td><b>mk bool var</b></td><td>449</td></tr><tr><td><b>arith-lower</b></td><td>63</td></tr><tr><td><b>arith-diseq</b></td><td>4</td></tr><tr><td><b>datatype splits</b></td><td>66</td></tr><tr><td><b>decisions</b></td><td>307</td></tr><tr><td><b>arith-propagations</b></td><td>13</td></tr><tr><td><b>arith-patches-success</b></td><td>1</td></tr><tr><td><b>propagations</b></td><td>228</td></tr><tr><td><b>arith-patches</b></td><td>2</td></tr><tr><td><b>arith-bound-propagations-cheap</b></td><td>13</td></tr><tr><td><b>arith-max-rows</b></td><td>11</td></tr><tr><td><b>conflicts</b></td><td>30</td></tr><tr><td><b>datatype accessor ax</b></td><td>33</td></tr><tr><td><b>minimized lits</b></td><td>1</td></tr><tr><td><b>arith-bound-propagations-lp</b></td><td>3</td></tr><tr><td><b>datatype constructor ax</b></td><td>63</td></tr><tr><td><b>arith-gomory-cuts</b></td><td>1</td></tr><tr><td><b>final checks</b></td><td>29</td></tr><tr><td><b>added eqs</b></td><td>543</td></tr><tr><td><b>del clause</b></td><td>124</td></tr><tr><td><b>arith eq adapter</b></td><td>49</td></tr><tr><td><b>arith-upper</b></td><td>38</td></tr><tr><td><b>memory</b></td><td>56.540000</td></tr><tr><td><b>max memory</b></td><td>77.690000</td></tr><tr><td><b>num allocs</b></td><td>20220975105.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b7e18b56-c9ec-43af-b9a5-cf9424317949';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-009e830e-bee4-4569-9f03-c93499059b0f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.021s]
  not
  (int_of_bits (bad_ripple_carry_adder :var_0: :var_1: false) =
   int_of_bits :var_0: + int_of_bits :var_1:)</pre></li><li><div>unroll<div class="imandra-table" id="table-797c011f-645b-492b-aaae-4b1ce267f4bc"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_42 b_81)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-e64e20c0-b24e-4686-9d89-c9d8cc0cf205"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_42 a_80)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-eb55b4cf-4cb1-4f33-ada4-4ccfb07a6f14"><table><tr><td><b>expr</b></td><td><pre>(bad_ripple_carry_adder_72 a_80 b_81 false)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-17379b13-aa96-45a6-ab43-eeefc368a7b4"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_42 (bad_ripple_carry_adder_72 a_80 b_81 false))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-7887bab9-ca6f-4d80-8d5c-e2545622e8bd"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_42 (|get.::.1_4363| b_81))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Sat (Some  let (a : bool list) = []
 let (b : bool list) = [true]
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-009e830e-bee4-4569-9f03-c93499059b0f';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-74dbfdd3-b7d5-49c7-afc2-66d8d12517b9"><textarea style="display: none">digraph &quot;proof&quot; {
p_356 [label=&quot;Start (not\l       (int_of_bits (bad_ripple_carry_adder :var_0: :var_1: false) =\l        int_of_bits :var_0: + int_of_bits :var_1:)\l       :time 0.021s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_356 -&gt; p_355 [label=&quot;&quot;];
p_355 [label=&quot;Unroll ([int_of_bits b], [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_355 -&gt; p_354 [label=&quot;&quot;];
p_354 [label=&quot;Unroll ([int_of_bits a], [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_354 -&gt; p_353 [label=&quot;&quot;];
p_353 [label=&quot;Unroll ([bad_ripple_carry_adder a b false], [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_353 -&gt; p_352 [label=&quot;&quot;];
p_352 [label=&quot;Unroll ([int_of_bits (bad_ripple_carry_adder a b false)], [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_352 -&gt; p_351 [label=&quot;&quot;];
p_351 [label=&quot;Unroll ([int_of_bits (List.tl b)], [[]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_351 -&gt; p_350 [label=&quot;&quot;];
p_350 [label=&quot;Sat (Some  let (a : bool list) = []\l let (b : bool list) = [true]\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-74dbfdd3-b7d5-49c7-afc2-66d8d12517b9';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-4af1b4d8-45ee-45d2-a309-2bc1d27c812b';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-0fd6abd2-1952-43bd-8904-8278ce5cff1f';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-0c49e1e1-7cdf-43ac-a16f-35855fa50281';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Happy verifying!</p>
</div>
</div>
</div>
                    </div>
                </article>
            </main>
            <footer class="footer">
                <a class="copyrights"href="http://imandra.ai">&#9400; 2018 - 2020 Imandra Inc. All rights reserved.</a>
            </footer>
        </div>
    
 


    <script>
    (function () {
            var lastId;
            var sideMenu = $("#side-nav-menu");
            var topMenu = $("#top-menu");
            var topMenuHeight = topMenu.outerHeight() + 15;

            // All list items
            var menuItems = sideMenu.find('a.side__nav-link--within-page');

            // Anchors corresponding to menu items
            var scrollItems = menuItems.map(function () {
              var item = $(this).attr("href");
              var thisItem = item.substring(item.lastIndexOf("#") + 1, item.length);
              var linkedItem = $('#' + CSS.escape(thisItem));
              if (linkedItem.length) { return linkedItem; }
            });

            // Bind to scroll
            $(window).scroll(function () {
                // Get container scroll position
                var fromTop = $(this).scrollTop() + topMenuHeight;;
                // Get id of current scroll item
                var cur = scrollItems.map(function () {
                    if ($(this).offset().top < fromTop)
                        return this;
                });
                cur = cur[cur.length - 1];
                // Get the id of the current element
                var id = cur && cur.length ? cur[0].id : "";
                if (id && lastId !== id) {
                    lastId = id;
                    // Set/remove active class
                    menuItems.each(function (idx, item) {
                    var $item = $(item);
                    $item.removeClass("side__nav-link--within-page--active");

                    if (item.href.endsWith('#' + lastId)) {
                        $item.addClass("side__nav-link--within-page--active");
                    };
                    });
                }
            });
        })()
    </script>
    <script type="text/javascript"> docsearch({
      apiKey: 'ff3a61a82b58783e62ebfbf51e50b0bc',
      indexName: 'imandra',
      inputSelector: '#search',
      debug: false // Set debug to true if you want to inspect the dropdown
    });
    </script>

    </body>
</html>
