<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (imandra-tools.Imandra_tools.Idf.Make)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">imandra-tools</a> &#x00BB; <a href="../../index.html">Imandra_tools</a> &#x00BB; <a href="../index.html">Idf</a> &#x00BB; Make</nav><header class="odoc-preamble"><h1>Module <code><span>Idf.Make</span></code></h1><p>Create a new IDF module for the given <code>SM</code> state machine</p></header><nav class="odoc-toc"><ul><li><a href="#parameters">Parameters</a></li><li><a href="#signature">Signature</a></li></ul></nav><div class="odoc-content"><h2 id="parameters"><a href="#parameters" class="anchor"></a>Parameters</h2><div class="odoc-spec"><div class="spec parameter" id="argument-1-DSM" class="anchored"><a href="#argument-1-DSM" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-1-DSM/index.html">DSM</a></span><span> : <a href="../../Idf_intf/module-type-DSM_SIG/index.html">Idf_intf.DSM_SIG</a></span></code></div></div><h2 id="signature"><a href="#signature" class="anchor"></a>Signature</h2><div class="odoc-spec"><div class="spec type" id="type-shape" class="anchored"><a href="#type-shape" class="anchor"></a><code><span><span class="keyword">type</span> shape</span><span> = </span></code><table><tr id="type-shape.Tree" class="anchored"><td class="def variant constructor"><a href="#type-shape.Tree" class="anchor"></a><code><span>| </span><span><span class="constructor">Tree</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-pol" class="anchored"><a href="#type-pol" class="anchor"></a><code><span><span class="keyword">type</span> pol</span><span> = </span></code><table><tr id="type-pol.Valid" class="anchored"><td class="def variant constructor"><a href="#type-pol.Valid" class="anchor"></a><code><span>| </span><span><span class="constructor">Valid</span></span></code></td></tr><tr id="type-pol.Invalid" class="anchored"><td class="def variant constructor"><a href="#type-pol.Invalid" class="anchor"></a><code><span>| </span><span><span class="constructor">Invalid</span></span></code></td></tr><tr id="type-pol.No" class="anchored"><td class="def variant constructor"><a href="#type-pol.No" class="anchor"></a><code><span>| </span><span><span class="constructor">No</span></span></code></td></tr><tr id="type-pol.Custom" class="anchored"><td class="def variant constructor"><a href="#type-pol.Custom" class="anchor"></a><code><span>| </span><span><span class="constructor">Custom</span> <span class="keyword">of</span> string</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec module" id="module-DSM" class="anchored"><a href="#module-DSM" class="anchor"></a><code><span><span class="keyword">module</span> DSM</span><span> = <a href="argument-1-DSM/index.html">DSM</a></span></code></div><div class="spec-doc"><p>State machine to decompose</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_state" class="anchored"><a href="#val-pp_state" class="anchor"></a><code><span><span class="keyword">val</span> pp_state : <span><a href="argument-1-DSM/State_machine/index.html#type-state">DSM.State_machine.state</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Printer function for a value of the state machine *</p></div></div><div class="odoc-spec"><div class="spec type" id="type-target" class="anchored"><a href="#type-target" class="anchor"></a><code><span><span class="keyword">type</span> target</span><span> = <span><a href="argument-1-DSM/Template/index.html#type-t">DSM.Template.t</a> list</span></span></code></div><div class="spec-doc"><p>Symbolic target of a decomposition</p></div></div><div class="odoc-spec"><div class="spec type" id="type-node" class="anchored"><a href="#type-node" class="anchor"></a><code><span><span class="keyword">type</span> node</span></code></div><div class="spec-doc"><p>Symbolic decomposed node of a state machine</p></div></div><div class="odoc-spec"><div class="spec type" id="type-path" class="anchored"><a href="#type-path" class="anchor"></a><code><span><span class="keyword">type</span> path</span><span> = <span><a href="#type-node">node</a> list</span></span></code></div><div class="spec-doc"><p>Symbolic decomposed list of edges of a state machine</p></div></div><div class="odoc-spec"><div class="spec module" id="module-G" class="anchored"><a href="#module-G" class="anchor"></a><code><span><span class="keyword">module</span> <a href="G/index.html">G</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Decomposition graph</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Mex" class="anchored"><a href="#module-Mex" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Mex/index.html">Mex</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-region_id" class="anchored"><a href="#type-region_id" class="anchor"></a><code><span><span class="keyword">type</span> region_id</span><span> = int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-id" class="anchored"><a href="#val-id" class="anchor"></a><code><span><span class="keyword">val</span> id : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-region_id">region_id</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-paths" class="anchored"><a href="#val-paths" class="anchor"></a><code><span><span class="keyword">val</span> paths : <span>?from:<a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="G/index.html#type-t">G.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-path">path</a> list</span></span></code></div><div class="spec-doc"><p>Return a list of paths from a decomposition graph starting at optional node (defaults to the root node)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-region" class="anchored"><a href="#val-region" class="anchor"></a><code><span><span class="keyword">val</span> region : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Imandra_surface</span>.Modular_region.RRef.t</span></code></div><div class="spec-doc"><p>Returns the region of a node</p></div></div><div class="odoc-spec"><div class="spec value" id="val-expanded_region_ids" class="anchored"><a href="#val-expanded_region_ids" class="anchor"></a><code><span><span class="keyword">val</span> expanded_region_ids : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">CCSet</span>.Make(<span class="xref-unresolved">CCInt</span>).t</span></code></div><div class="spec-doc"><p>Returns set of regions originating from region expansion.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-applied_expander_fns" class="anchored"><a href="#val-applied_expander_fns" class="anchor"></a><code><span><span class="keyword">val</span> applied_expander_fns : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">CCSet</span>.Make(<span class="xref-unresolved">CCString</span>).t list</span></span></code></div><div class="spec-doc"><p>Returns the set of projection functions applied during region expansion, by step.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sample" class="anchored"><a href="#val-sample" class="anchor"></a><code><span><span class="keyword">val</span> sample : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="argument-1-DSM/State_machine/index.html#type-event">DSM.State_machine.event</a> list</span> option</span></span></code></div><div class="spec-doc"><p>Returns the sample point of a node - a list of concrete events to get to the current node</p></div></div><div class="odoc-spec"><div class="spec value" id="val-model" class="anchored"><a href="#val-model" class="anchor"></a><code><span><span class="keyword">val</span> model : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../imandra-base/Imandra_interactive/Extract/index.html#type-model">Imandra_interactive.Extract.model</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-region_expander" class="anchored"><a href="#type-region_expander" class="anchor"></a><code><span><span class="keyword">type</span> region_expander</span><span> = </span><span>{</span></code><table><tr id="type-region_expander.valid_fn" class="anchored"><td class="def record field"><a href="#type-region_expander.valid_fn" class="anchor"></a><code><span>valid_fn : <span>string option</span>;</span></code></td></tr><tr id="type-region_expander.field_projections" class="anchored"><td class="def record field"><a href="#type-region_expander.field_projections" class="anchor"></a><code><span>field_projections : <span><span>string list</span> list</span>;</span></code></td></tr><tr id="type-region_expander.expand_when" class="anchored"><td class="def record field"><a href="#type-region_expander.expand_when" class="anchor"></a><code><span>expand_when : <span>string option</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-target_step" class="anchored"><a href="#type-target_step" class="anchor"></a><code><span><span class="keyword">type</span> target_step</span><span> = </span><span>{</span></code><table><tr id="type-target_step.event" class="anchored"><td class="def record field"><a href="#type-target_step.event" class="anchor"></a><code><span>event : <a href="argument-1-DSM/Template/index.html#type-t">DSM.Template.t</a>;</span></code></td></tr><tr id="type-target_step.valid_pol" class="anchored"><td class="def record field"><a href="#type-target_step.valid_pol" class="anchor"></a><code><span>valid_pol : <a href="#type-pol">pol</a>;</span></code></td></tr><tr id="type-target_step.region_expander" class="anchored"><td class="def record field"><a href="#type-target_step.region_expander" class="anchor"></a><code><span>region_expander : <span><a href="#type-region_expander">region_expander</a> option</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-target_steps" class="anchored"><a href="#val-target_steps" class="anchor"></a><code><span><span class="keyword">val</span> target_steps : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-target_step">target_step</a> list</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-replay_sample" class="anchored"><a href="#type-replay_sample" class="anchor"></a><code><span><span class="keyword">type</span> replay_sample</span><span> = </span><span>{</span></code><table><tr id="type-replay_sample.state_before" class="anchored"><td class="def record field"><a href="#type-replay_sample.state_before" class="anchor"></a><code><span>state_before : <a href="argument-1-DSM/State_machine/index.html#type-state">DSM.State_machine.state</a>;</span></code></td></tr><tr id="type-replay_sample.event" class="anchored"><td class="def record field"><a href="#type-replay_sample.event" class="anchor"></a><code><span>event : <a href="argument-1-DSM/State_machine/index.html#type-event">DSM.State_machine.event</a>;</span></code></td></tr><tr id="type-replay_sample.state_after" class="anchored"><td class="def record field"><a href="#type-replay_sample.state_after" class="anchor"></a><code><span>state_after : <a href="argument-1-DSM/State_machine/index.html#type-state">DSM.State_machine.state</a>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>sample replay output states and event</p></div></div><div class="odoc-spec"><div class="spec value" id="val-replay_events" class="anchored"><a href="#val-replay_events" class="anchor"></a><code><span><span class="keyword">val</span> replay_events : <span><span><a href="argument-1-DSM/State_machine/index.html#type-event">DSM.State_machine.event</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-replay_sample">replay_sample</a> list</span></span></code></div><div class="spec-doc"><p>Replay a list of events to generate concrete state machine states from the initial state</p></div></div><div class="odoc-spec"><div class="spec value" id="val-replay" class="anchored"><a href="#val-replay" class="anchor"></a><code><span><span class="keyword">val</span> replay : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-replay_sample">replay_sample</a> list</span> option</span></span></code></div><div class="spec-doc"><p>Replay a node's sample events to generate concrete state machine states from the initial state</p></div></div><div class="odoc-spec"><div class="spec type" id="type-runner" class="anchored"><a href="#type-runner" class="anchor"></a><code><span><span class="keyword">type</span> runner</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : 
  <span>?basis:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?expanding:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?assuming:string <span class="arrow">&#45;&gt;</span></span>
  <span>?get_model_config:<span><span class="xref-unresolved">Imandra_util</span>.Pconfig.op list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-runner">runner</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : 
  <span>runner:<a href="#type-runner">runner</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?as_:<a href="#type-shape">shape</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?prune_asm:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?valid_pol:<span><a href="#type-pol">pol</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?region_expander:<span><a href="#type-region_expander">region_expander</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?minimize:<span><span>string list</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?shrink_heavy:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-target">target</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-run" class="anchored"><a href="#val-run" class="anchor"></a><code><span><span class="keyword">val</span> run : <span><a href="#type-runner">runner</a> <span class="arrow">&#45;&gt;</span></span> <a href="G/index.html#type-t">G.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-decompose" class="anchored"><a href="#val-decompose" class="anchor"></a><code><span><span class="keyword">val</span> decompose : 
  <span>?as_:<a href="#type-shape">shape</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?prune_asm:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?basis:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?expanding:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?assuming:string <span class="arrow">&#45;&gt;</span></span>
  <span>?valid_pol:<span><a href="#type-pol">pol</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?region_expander:<span><a href="#type-region_expander">region_expander</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?minimize:<span><span>string list</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?shrink_heavy:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?get_model_config:<span><span class="xref-unresolved">Imandra_util</span>.Pconfig.op list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-target">target</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="G/index.html#type-t">G.t</a></span></code></div><div class="spec-doc"><p>Decompose a state machine using a symbolic template</p></div></div></div></body></html>