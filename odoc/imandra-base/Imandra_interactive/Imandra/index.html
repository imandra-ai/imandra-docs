<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Imandra (imandra-base.Imandra_interactive.Imandra)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">imandra-base</a> &#x00BB; <a href="../index.html">Imandra_interactive</a> &#x00BB; Imandra</nav><header class="odoc-preamble"><h1>Module <code><span>Imandra_interactive.Imandra</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#initialization">Initialization</a></li><li><a href="#processing-statements">Processing Statements</a></li><li><a href="#extension-points">Extension Points</a></li><li><a href="#main-loop">Main Loop</a></li><li><a href="#render-documents">Render Documents</a><ul><li><a href="#string--&gt;-term-and-expr-conversion">String -&gt; Term and Expr conversion</a></li></ul></li><li><a href="#module-system">Module System</a></li></ul></nav><div class="odoc-content"><h3 id="initialization"><a href="#initialization" class="anchor"></a>Initialization</h3><div class="odoc-spec"><div class="spec value" id="val-set_lockdown" class="anchored"><a href="#val-set_lockdown" class="anchor"></a><code><span><span class="keyword">val</span> set_lockdown : <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_lockdown uid</code> enables lockdown mode. It will restrict what functions are in scope, and will <code>Unix.setuid</code> to the given user ID. <b>NOTE</b>: must be called before <a href="#val-do_init"><code>do_init</code></a> or <code>loop</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-do_init" class="anchored"><a href="#val-do_init" class="anchor"></a><code><span><span class="keyword">val</span> do_init : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?linenoise:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?syntax:<span class="xref-unresolved">Imandra_syntax</span>.Syntax.t <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Initialize the toplevel environment. Can be safely called several times but will only do something on the first call</p></div></div><h3 id="processing-statements"><a href="#processing-statements" class="anchor"></a>Processing Statements</h3><div class="odoc-spec"><div class="spec value" id="val-on_eval_string" class="anchored"><a href="#val-on_eval_string" class="anchor"></a><code><span><span class="keyword">val</span> on_eval_string : <span><span class="xref-unresolved">Imandra_surface</span>.Code_fragment.t <span class="xref-unresolved">Imandra_util</span>.Observable.t</span></span></code></div><div class="spec-doc"><p>Event triggered on every source code string evaluated. This may <b>NOT</b> include calls to <code>#use</code> and others.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-on_eval_top_phrase" class="anchored"><a href="#val-on_eval_top_phrase" class="anchor"></a><code><span><span class="keyword">val</span> on_eval_top_phrase : <span><span class="xref-unresolved">Parsetree</span>.toplevel_phrase <span class="xref-unresolved">Imandra_util</span>.Observable.t</span></span></code></div><div class="spec-doc"><p>Event triggered for every top phrase evaluated, including program mode ones.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-use_iml" class="anchored"><a href="#val-use_iml" class="anchor"></a><code><span><span class="keyword">val</span> use_iml : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?syntax:<span class="xref-unresolved">Imandra_syntax</span>.Syntax.t <span class="arrow">&#45;&gt;</span></span>
  <span>?batch:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?quiet:bool <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>use_iml file</code> loads the file in imandra, as <code>#use &quot;file&quot;</code> would do.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-eval_string" class="anchored"><a href="#val-eval_string" class="anchor"></a><code><span><span class="keyword">val</span> eval_string : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?interrupted:<span class="xref-unresolved">Imandra_util</span>.Switch.t <span class="arrow">&#45;&gt;</span></span>
  <span>?syntax:<span class="xref-unresolved">Imandra_syntax</span>.Syntax.t <span class="arrow">&#45;&gt;</span></span>
  <span>?batch:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?out:<span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span>?quiet:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?filename:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Imandra_surface</span>.Top_result.t list</span></span></code></div><div class="spec-doc"><p><code>eval_string &quot;1+1;;&quot;</code> will evaluate the given string as an Imandra statement.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">batch</span> <p>if true, process all events in the string at once</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">filename</span> <p>used in the locations in error messages</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>a list of toplevel results, to be printed somehow Precondition: <code>do_init ()</code> was called.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-eval" class="anchored"><a href="#val-eval" class="anchor"></a><code><span><span class="keyword">val</span> eval : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?interrupted:<span class="xref-unresolved">Imandra_util</span>.Switch.t <span class="arrow">&#45;&gt;</span></span>
  <span>?out:<span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span>?quiet:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?loc:<span class="xref-unresolved">Imandra_util</span>.Iloc.t <span class="arrow">&#45;&gt;</span></span>
  <span>input:<span class="xref-unresolved">Imandra_util</span>.Iloc.Input.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Parsetree</span>.toplevel_phrase <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Imandra_surface</span>.Top_result.t list</span></span></code></div><div class="spec-doc"><p>evaluate the given toplevel phrase.</p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>a list of toplevel results, to be printed somehow. Precondition: <code>do_init ()</code> was called.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-eval_string_result" class="anchored"><a href="#val-eval_string_result" class="anchor"></a><code><span><span class="keyword">val</span> eval_string_result : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?batch:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?out:<span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span>?quiet:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?filename:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="xref-unresolved">Imandra_surface</span>.Top_result.t list</span>, exn )</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>eval_string_result &quot;1+1;;&quot;</code> will evaluate the given string as an Imandra statement.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">batch</span> <p>if true, process all events in the string at once</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p><code>Ok l</code> where <code>l</code> is a list of toplevel results, to be printed somehow, if evaluation succeeded; <code>Error e</code> if evaluation failed with exception <code>e</code>. Precondition: <code>do_init ()</code> was called.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-eval_string_iter" class="anchored"><a href="#val-eval_string_iter" class="anchor"></a><code><span><span class="keyword">val</span> eval_string_iter : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?out:<span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span>?quiet:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?interrupted:<span class="xref-unresolved">Imandra_util</span>.Switch.t <span class="arrow">&#45;&gt;</span></span>
  <span>filename:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span>(<span><span class="xref-unresolved">Imandra_util</span>.Iloc.t list</span>
     * <span class="xref-unresolved">Imandra_util</span>.Console.Capture.t
     * <span><span>( <span><span class="xref-unresolved">Imandra_surface</span>.Event.t list</span>, string )</span> <span class="xref-unresolved">Stdlib</span>.result</span>)</span> <span class="arrow">&#45;&gt;</span></span>
    unit )</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>eval_string_iter code f</code> evaluates <code>code</code> into a list of events, processes these events one by one, calling <code>f</code> on the result of each event. Each result is: <code>(locations, console, res)</code> Precondition: <code>do_init ()</code> was called.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-validate_result_async" class="anchored"><a href="#type-validate_result_async" class="anchor"></a><code><span><span class="keyword">type</span> validate_result_async</span></code></div><div class="spec-doc"><p>Results of validating some events using logical reasoning, termination analysis, theorem proving, etc.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-process_events" class="anchored"><a href="#val-process_events" class="anchor"></a><code><span><span class="keyword">val</span> process_events : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?console_cap:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?interrupted:<span class="xref-unresolved">Imandra_util</span>.Switch.t <span class="arrow">&#45;&gt;</span></span>
  <span>?batch:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="xref-unresolved">Imandra_surface</span>.Event.t list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-validate_result_async">validate_result_async</a> list</span></span></code></div><div class="spec-doc"><p>Process events so as to validate them on the reasoning side. Returns a list of future results.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">batch</span> <p>if true, validate all events at once</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">console_cap</span> <p>if true, capture console output on the reasoning side and into the validate result.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_block_for_validate_res_async" class="anchored"><a href="#val-wait_block_for_validate_res_async" class="anchor"></a><code><span><span class="keyword">val</span> wait_block_for_validate_res_async : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?quiet:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-validate_result_async">validate_result_async</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="xref-unresolved">Imandra_surface</span>.Event.op list</span>, exn )</span> <span class="xref-unresolved">Stdlib</span>.result</span>
  * <span class="xref-unresolved">Imandra_util</span>.Console.Capture.t</span></code></div><div class="spec-doc"><p>Wait for a validation result</p></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_for_validate_res_async" class="anchored"><a href="#val-wait_for_validate_res_async" class="anchor"></a><code><span><span class="keyword">val</span> wait_for_validate_res_async : 
  <span>?quiet:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-validate_result_async">validate_result_async</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>( <span><span class="xref-unresolved">Imandra_surface</span>.Event.op list</span>, exn )</span> <span class="xref-unresolved">Stdlib</span>.result</span>
   * <span class="xref-unresolved">Imandra_util</span>.Console.Capture.t)</span>
    <a href="../../Imandra_thread_util/Fut/index.html#type-t">Imandra_thread_util.Fut.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eval_string_returning_string" class="anchored"><a href="#val-eval_string_returning_string" class="anchor"></a><code><span><span class="keyword">val</span> eval_string_returning_string : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  string</span></code></div><div class="spec-doc"><p><code>eval_string_returning_string s</code> evaluates <code>s</code>, which must be a code fragment returning a string, and returns the resulting string value.</p><p>Example:</p><pre><code># Imandra.eval_string_returning_string {| &quot;hello &quot; ^ &quot;world&quot; |};;
- : string = &quot;hello world&quot;

             # Imandra.eval_string_returning_string {| Printf.sprintf &quot;%B&quot; true |};;
- : string = &quot;true&quot;</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-parse_file" class="anchored"><a href="#val-parse_file" class="anchor"></a><code><span><span class="keyword">val</span> parse_file : 
  <span>?syntax:<span class="xref-unresolved">Imandra_syntax</span>.Syntax.t <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="xref-unresolved">Parsetree</span>.toplevel_phrase list</span> * <span class="xref-unresolved">Imandra_util</span>.Iloc.Input.t, exn )</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Parse given file</p></div></div><div class="odoc-spec"><div class="spec value" id="val-parse_string" class="anchored"><a href="#val-parse_string" class="anchor"></a><code><span><span class="keyword">val</span> parse_string : 
  <span>?syntax:<span class="xref-unresolved">Imandra_syntax</span>.Syntax.t <span class="arrow">&#45;&gt;</span></span>
  <span>?filename:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="xref-unresolved">Parsetree</span>.toplevel_phrase list</span>
    * <span class="xref-unresolved">Imandra_util</span>.Iloc.Input.t
    * <span class="xref-unresolved">Imandra_util</span>.Iloc.t,
    <span><span class="xref-unresolved">Imandra_util</span>.Iloc.t <span class="xref-unresolved">Imandra_util</span>.List1.t</span> * exn )</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Parse given string.</p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>a result with phrases or an error, along with the last parse location</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-port" class="anchored"><a href="#val-port" class="anchor"></a><code><span><span class="keyword">val</span> port : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?quiet:bool <span class="arrow">&#45;&gt;</span></span>
  <span>var:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>port ~var expr</code> ports the content of <code>expr</code>, typically a variable (which must have a logic type) into logic mode, into the new variable <code>var</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">var</span> <p>the name of the variable that will receive the logic-mode value</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">quiet</span> <p>if true, won't print the binding</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">expr</span> <p>a string containing an OCaml expression whose type is defined in logic mode. In general this expression can be a simple variable, or a more complicated computation.</p><p>Example:</p><pre><code>let a = print_endline &quot;coucou&quot;; 42 [@@program];;

Imandra.port ~var:&quot;logic_a&quot; &quot;a&quot;;;

verify (logic_a=42);;

Imandra.port ~var:&quot;logic_a_succ&quot; &quot;a+1&quot;;;

verify (logic_a_succ=43);;</code></pre></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-eval_code_fragment" class="anchored"><a href="#val-eval_code_fragment" class="anchor"></a><code><span><span class="keyword">val</span> eval_code_fragment : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?quiet:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Imandra_surface</span>.Code_fragment.t <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-undo" class="anchored"><a href="#val-undo" class="anchor"></a><code><span><span class="keyword">val</span> undo : <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>undo n</code> cancels the last <code>n</code> toplevel phrases entered by the user</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Gc_stat" class="anchored"><a href="#module-Gc_stat" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Gc_stat/index.html">Gc_stat</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_plugin" class="anchored"><a href="#val-add_plugin" class="anchor"></a><code><span><span class="keyword">val</span> add_plugin : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Imandra_surface</span>.Plugin.t <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Add the given plugin and apply it to history retroactively. From now on all events will be processed by this plugin. It blocks until all code fragments have been executed.</p><p>It is simpler to call this as early as possible if one wants to use <code>#reset</code> or <code>#undo</code>.</p><p>See <code>Plugin</code> for more information.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-collect_plugin" class="anchored"><a href="#val-collect_plugin" class="anchor"></a><code><span><span class="keyword">val</span> collect_plugin : 
  <span><span class="xref-unresolved">Imandra_surface</span>.Plugin.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Imandra_surface</span>.Code_fragment.t list</span></span></code></div><div class="spec-doc"><p>Run the plugin on all events so far, but instead of executing its code fragments, just collect them</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_plugin_pp" class="anchored"><a href="#val-add_plugin_pp" class="anchor"></a><code><span><span class="keyword">val</span> add_plugin_pp : <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_plugin_yojson" class="anchored"><a href="#val-add_plugin_yojson" class="anchor"></a><code><span><span class="keyword">val</span> add_plugin_yojson : <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_plugin_finite_type" class="anchored"><a href="#val-add_plugin_finite_type" class="anchor"></a><code><span><span class="keyword">val</span> add_plugin_finite_type : <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_plugin_gen_json" class="anchored"><a href="#val-add_plugin_gen_json" class="anchor"></a><code><span><span class="keyword">val</span> add_plugin_gen_json : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?logic_deser:bool <span class="arrow">&#45;&gt;</span></span>
  <span>mod_name:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_plugin_rand" class="anchored"><a href="#val-add_plugin_rand" class="anchor"></a><code><span><span class="keyword">val</span> add_plugin_rand : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?mod_name:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><h3 id="extension-points"><a href="#extension-points" class="anchor"></a>Extension Points</h3><div class="odoc-spec"><div class="spec module" id="module-Custom_extension_point" class="anchored"><a href="#module-Custom_extension_point" class="anchor"></a><code><span><span class="keyword">module</span> Custom_extension_point</span><span> =
  <span class="xref-unresolved">Imandra_syntax</span>.Rewrite_parsetree.Custom_extension</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_custom_extension_expr" class="anchored"><a href="#val-add_custom_extension_expr" class="anchor"></a><code><span><span class="keyword">val</span> add_custom_extension_expr : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Custom_extension_point</span>.expr_tr <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Define a custom extension point</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_custom_extension_value_binding" class="anchored"><a href="#val-add_custom_extension_value_binding" class="anchor"></a><code><span><span class="keyword">val</span> add_custom_extension_value_binding : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Custom_extension_point</span>.value_binding_tr <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_custom_extension_string_lit" class="anchored"><a href="#val-add_custom_extension_string_lit" class="anchor"></a><code><span><span class="keyword">val</span> add_custom_extension_string_lit : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Custom_extension_point</span>.string_lit_tr <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-with_local_custom_extensions" class="anchored"><a href="#val-with_local_custom_extensions" class="anchor"></a><code><span><span class="keyword">val</span> with_local_custom_extensions : 
  <span><span><span>(string * <span class="xref-unresolved">Custom_extension_point</span>.tr)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><h3 id="main-loop"><a href="#main-loop" class="anchor"></a>Main Loop</h3><div class="odoc-spec"><div class="spec value" id="val-interactive_loop" class="anchored"><a href="#val-interactive_loop" class="anchor"></a><code><span><span class="keyword">val</span> interactive_loop : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?init:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?syntax:<span class="xref-unresolved">Imandra_syntax</span>.Syntax.t <span class="arrow">&#45;&gt;</span></span>
  <span>?linenoise:bool <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Main loop for a toplevel that reads on stdin and prints on stdout.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">init</span> <p>if true, calls <code>do_init</code> first</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">linenoise</span> <p>if true, use linenoise for interactive input</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">syntax</span> <p>syntax to use</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-process_file" class="anchored"><a href="#val-process_file" class="anchor"></a><code><span><span class="keyword">val</span> process_file : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?init:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?syntax:<span class="xref-unresolved">Imandra_syntax</span>.Syntax.t <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Parsetree</span>.toplevel_phrase list</span>
  * <span><span class="xref-unresolved">Imandra_surface</span>.Event.t list</span>
  * <span><span class="xref-unresolved">Imandra_surface</span>.Top_result.t list</span></span></code></div><div class="spec-doc"><p><code>process_file path</code> parses the file and returns its content and a list of events. This is useful for batch compilation.</p></div></div><h3 id="render-documents"><a href="#render-documents" class="anchor"></a>Render Documents</h3><div class="odoc-spec"><div class="spec value" id="val-display" class="anchored"><a href="#val-display" class="anchor"></a><code><span><span class="keyword">val</span> display : <span><span class="xref-unresolved">Imandra_document</span>.Document.t <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Prints the document a way or another</p></div></div><h4 id="string--&gt;-term-and-expr-conversion"><a href="#string--&gt;-term-and-expr-conversion" class="anchor"></a>String -&gt; Term and Expr conversion</h4><div class="odoc-spec"><div class="spec value" id="val-term_of_string" class="anchored"><a href="#val-term_of_string" class="anchor"></a><code><span><span class="keyword">val</span> term_of_string : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Imandra_surface</span>.Term.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-syn_term_of_string" class="anchored"><a href="#val-syn_term_of_string" class="anchor"></a><code><span><span class="keyword">val</span> syn_term_of_string : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Imandra_surface</span>.Term.Syn.t</span></code></div></div><h3 id="module-system"><a href="#module-system" class="anchor"></a>Module System</h3><div class="odoc-spec"><div class="spec value" id="val-import_file" class="anchored"><a href="#val-import_file" class="anchor"></a><code><span><span class="keyword">val</span> import_file : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?loc:<span class="xref-unresolved">Imandra_util</span>.Iloc.t <span class="arrow">&#45;&gt;</span></span>
  <span>?syntax:<span class="xref-unresolved">Imandra_syntax</span>.Syntax.t <span class="arrow">&#45;&gt;</span></span>
  <span>?quiet:bool <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Import given module (and its dependencies, recursively) by its file name</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_lib" class="anchored"><a href="#val-require_lib" class="anchor"></a><code><span><span class="keyword">val</span> require_lib : 
  <span>?scope:<span class="xref-unresolved">Opentelemetry</span>.Trace.scope <span class="arrow">&#45;&gt;</span></span>
  <span>?loc:<span class="xref-unresolved">Imandra_util</span>.Iloc.t <span class="arrow">&#45;&gt;</span></span>
  <span>?meth:<span>[ `Mod_use <span>| `Import</span> <span>| `Use</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?syntax:<span class="xref-unresolved">Imandra_syntax</span>.Syntax.t <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Require an ocamlfind library and its Imandra attachment, using either <code>import</code> or <code>mod_use</code> to load its content.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Gist" class="anchored"><a href="#module-Gist" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Gist/index.html">Gist</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Init_fail" class="anchored"><a href="#exception-Init_fail" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Init_fail</span></span></code></div></div></div></body></html>